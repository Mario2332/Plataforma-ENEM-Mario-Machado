import{c as oe,$ as z,a0 as f,j as a,C as ia,b as la,B as l,D as O,k as P,l as R,m as T,n as $,o as L,a9 as re}from"./index-DdIS184s.js";import{r as o}from"./vendor-recharts-DGENtP1g.js";import{I as U}from"./input-DyjJfrPa.js";import{L as k}from"./label-CxQvV6-Q.js";import{S as ce,a as ie,b as le,c as de,d as ge}from"./select-OG-wP9_J.js";import{S as me}from"./switch-D_bA3zko.js";import{t as m}from"./vendor-ui-Dwsdq65V.js";import{w as _,x as K,J as Fa,e as Y,T as Ea,K as ue,h as xe,j as pe}from"./vendor-firebase-DcZa5tA2.js";import{a as he}from"./MentorViewContext-DS7QKSKX.js";import{C as Ae,a as Ce}from"./skeleton-loader-CdrgTfke.js";import{a as Oa}from"./CronogramaWrapper-D3PuOhhf.js";import{L as Pa}from"./loader-circle-DTgeE00p.js";import{L as W}from"./link-2-B6v6bUKV.js";import{I as fe}from"./info-DeE-r_l5.js";import{S as da}from"./star-DSwqZXlV.js";import{C as ve}from"./chevron-left-D2CKKxGx.js";import{C as je}from"./chevron-right-BUrFLeu9.js";import{P as Ra}from"./plus-BFYH4vtD.js";import{T as Ta}from"./trash-2-Xnps-x1v.js";import{C as Ne}from"./clock-wIFxEopj.js";import{P as ye}from"./pen-B_ttLRhh.js";import"./vendor-react-BLxlFB_W.js";import"./useComposition-JJU1F6nw.js";import"./index-BdQq_4o_.js";import"./index-7ACQ6hHg.js";import"./index-D2x4P4hR.js";import"./check-Cz_zQySZ.js";import"./calendar-BFdOIjbh.js";import"./refresh-cw-BQPPxFIf.js";import"./zap-Cro67s6T.js";const Se=oe("Link2Off",[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),be=["Matemática","Biologia","Física","Química","História","Geografia","Filosofia","Sociologia","Linguagens","Redação","Revisão","Simulado","Correção de simulado","Preenchimento de lacunas","Dormir","Atividade física","Igreja","Outra atividade"],ga={Matemática:"#3b82f6",Biologia:"#10b981",Física:"#f59e0b",Química:"#ef4444",História:"#8b5cf6",Geografia:"#ec4899",Filosofia:"#06b6d4",Sociologia:"#f97316",Linguagens:"#84cc16",Redação:"#14b8a6",Revisão:"#a855f7",Simulado:"#f43f5e","Correção de simulado":"#0ea5e9","Preenchimento de lacunas":"#eab308",Dormir:"#6366f1","Atividade física":"#22c55e",Igreja:"#d946ef","Outra atividade":"#94a3b8"},De=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],we=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"];function ts(){const d=he(),[y,B]=o.useState(new Date().getMonth()),[H,ma]=o.useState(new Date().getFullYear()),[S,I]=o.useState([]),[$a,ua]=o.useState([]),[La,xa]=o.useState(!0),[X,V]=o.useState(!1),[pa,J]=o.useState("idle"),[g,Z]=o.useState({sincronizacaoAtiva:!1,dataFimSincronizacao:"",atividadesManuaisPreSincronizacao:[]}),[Ua,b]=o.useState(!1),[_a,Q]=o.useState(!1),[Ba,q]=o.useState(!1),[aa,ha]=o.useState(!0),[j,ea]=o.useState(null),[Aa,Ha]=o.useState(""),[Va,G]=o.useState(!1),[sa,Ca]=o.useState("single"),[na,fa]=o.useState(""),[Ja,M]=o.useState(!1),[N,Qa]=o.useState(""),[i,v]=o.useState({data:"",horaInicio:"08:00",horaFim:"09:00",atividade:"",atividadePersonalizada:"",cor:"#3b82f6",isManual:!0}),F=o.useRef(null),ta=o.useRef(!1),va=o.useRef([]),ja=o.useRef(null);o.useEffect(()=>{va.current=S},[S]),o.useEffect(()=>{ja.current=d},[d]),o.useEffect(()=>d?((async()=>{xa(!0),ta.current=!1;try{await Promise.all([Na(),qa(),Ga()])}finally{xa(!1)}})(),()=>{F.current&&clearTimeout(F.current)}):void 0,[d]);const Na=async()=>{try{const e=d||z.currentUser?.uid;if(!e)throw new Error("Usuário não autenticado");const s=_(f,"alunos",e,"agenda"),t=(await K(s)).docs.map(r=>({id:r.id,...r.data()}));I(t)}catch{}},qa=async()=>{try{const e=d||z.currentUser?.uid;if(!e)throw new Error("Usuário não autenticado");const s=_(f,"alunos",e,"cronograma_lista"),t=(await K(s)).docs.map(r=>({id:r.id,...r.data()}));ua(t)}catch{}},Ga=async()=>{try{const e=d||z.currentUser?.uid;if(!e)throw new Error("Usuário não autenticado");const s=Y(f,"alunos",e,"agenda_config","config"),n=await xe(s);n.exists()&&Z(n.data())}catch{}},ya=async e=>{try{const s=d||z.currentUser?.uid;if(!s)throw new Error("Usuário não autenticado");const n=Y(f,"alunos",s,"agenda_config","config");await pe(n,e),Z(e)}catch(s){throw s}},oa=async e=>{try{const s=d||z.currentUser?.uid;if(!s)throw new Error("Usuário não autenticado");const n=_(f,"alunos",s,"agenda"),t=await K(n),r=Fa(f);t.docs.forEach(x=>{r.delete(x.ref)}),e.forEach(x=>{const{id:u,...C}=x,D=Y(n);r.set(D,{...C,createdAt:Ea.now()})}),await r.commit(),await Na()}catch(s){throw s}},Sa=o.useCallback(()=>{ta.current=!0,J("saving"),F.current&&clearTimeout(F.current),F.current=setTimeout(async()=>{if(ja.current)try{await oa(va.current),ta.current=!1,J("saved"),setTimeout(()=>{J("idle")},2e3)}catch{J("error"),m.error("Erro ao salvar. Tente novamente.")}},1500)},[]),ba=o.useCallback(async(e,s)=>{if(!(!s.sincronizacaoAtiva||!s.dataFimSincronizacao))try{const n=d||z.currentUser?.uid;if(!n)return;const t=_(f,"alunos",n,"agenda"),r=await K(t),u=r.docs.map(h=>({id:h.id,...h.data()})).filter(h=>h.isManual),C=[],D=new Date(s.dataFimSincronizacao),c=new Date;c.setHours(0,0,0,0);let p=new Date(c);for(;p<=D;){const h=p.getDay(),ca=p.toISOString().split("T")[0];e.filter(A=>A.diaSemana===h).forEach(A=>{C.push({id:`sync_${ca}_${A.id}`,data:ca,horaInicio:A.horaInicio,horaFim:A.horaFim,atividade:A.atividade,atividadePersonalizada:A.atividadePersonalizada,cor:A.cor,isManual:!1})}),p.setDate(p.getDate()+1)}const w=[...u,...C],E=Fa(f);r.docs.forEach(h=>{E.delete(h.ref)}),w.forEach(h=>{const{id:ca,...Ma}=h,A=Y(t);E.set(A,{...Ma,createdAt:Ea.now()})}),await E.commit(),I(w)}catch{}},[d]);o.useEffect(()=>{if(!d||!g.sincronizacaoAtiva)return;const s=_(f,"alunos",d,"cronograma_lista"),n=ue(s,t=>{const r=t.docs.map(x=>({id:x.id,...x.data()}));ua(r),ba(r,g)},t=>{});return()=>{n()}},[d,g.sincronizacaoAtiva,g.dataFimSincronizacao,ba]);const Ka=(e,s)=>{const n=new Date(s,e,1),r=new Date(s,e+1,0).getDate(),x=n.getDay(),u=[],C=new Date(s,e,0).getDate();for(let c=x-1;c>=0;c--){const p=C-c,w=e===0?11:e-1,E=e===0?s-1:s;u.push({data:`${E}-${String(w+1).padStart(2,"0")}-${String(p).padStart(2,"0")}`,dia:p,isCurrentMonth:!1})}for(let c=1;c<=r;c++)u.push({data:`${s}-${String(e+1).padStart(2,"0")}-${String(c).padStart(2,"0")}`,dia:c,isCurrentMonth:!0});const D=42-u.length;for(let c=1;c<=D;c++){const p=e===11?0:e+1,w=e===11?s+1:s;u.push({data:`${w}-${String(p+1).padStart(2,"0")}-${String(c).padStart(2,"0")}`,dia:c,isCurrentMonth:!1})}return u},Ya=()=>{y===0?(B(11),ma(H-1)):B(y-1)},Wa=()=>{y===11?(B(0),ma(H+1)):B(y+1)},ra=e=>S.filter(s=>s.data===e).sort((s,n)=>s.horaInicio.localeCompare(n.horaInicio)),Da=e=>{Ha(e),ea(null),v({data:e,horaInicio:"08:00",horaFim:"09:00",atividade:"",atividadePersonalizada:"",cor:"#3b82f6",isManual:!0}),b(!0)},wa=e=>{e.isManual?(ea(e),v({...e,atividadePersonalizada:e.atividadePersonalizada||""}),b(!0)):(ea(e),G(!0))},Xa=()=>{j&&(G(!1),sa==="single"?(v({...j,atividadePersonalizada:j.atividadePersonalizada||"",isManual:!0}),b(!0)):m.info("Para editar todas as ocorrências, vá para a aba 'Semanal > Lista' e edite a atividade lá."))},Za=()=>{if(!i.atividade){m.error("Selecione uma atividade");return}if(i.atividade==="Outra atividade"&&!i.atividadePersonalizada?.trim()){m.error("Informe o nome da atividade personalizada");return}if(i.horaInicio>=i.horaFim){m.error("O horário de início deve ser anterior ao horário de fim");return}const e=i.atividade==="Outra atividade"?i.cor:ga[i.atividade]||i.cor,s={...i,cor:e,isManual:!0};if(j)I(n=>n.map(t=>t.id===j.id?{...s,id:t.id}:t)),m.success("Atividade atualizada!");else{const n=`temp_${Date.now()}`;I(t=>[...t,{...s,id:n}]),m.success("Atividade adicionada!")}b(!1),Sa()},za=e=>{I(s=>s.filter(n=>n.id!==e)),m.success("Atividade removida!"),Sa()},ae=()=>{g.sincronizacaoAtiva?ne():(fa(""),Q(!0))},ee=()=>{if(!na){m.error("Defina a data de término da sincronização");return}Z(e=>({...e,dataFimSincronizacao:na})),Q(!1),q(!0)},se=async()=>{try{V(!0);const e=S.filter(u=>u.isManual),s=[];aa&&s.push(...e);const n=new Date(g.dataFimSincronizacao),t=new Date;t.setHours(0,0,0,0);let r=new Date(t);for(;r<=n;){const u=r.getDay(),C=r.toISOString().split("T")[0];$a.filter(c=>c.diaSemana===u).forEach(c=>{s.push({id:`sync_${C}_${c.id}`,data:C,horaInicio:c.horaInicio,horaFim:c.horaFim,atividade:c.atividade,atividadePersonalizada:c.atividadePersonalizada,cor:c.cor,isManual:!1})}),r.setDate(r.getDate()+1)}const x={sincronizacaoAtiva:!0,dataFimSincronizacao:g.dataFimSincronizacao,atividadesManuaisPreSincronizacao:e};await ya(x),await oa(s),q(!1),m.success("Sincronização ativada com sucesso!")}catch{m.error("Erro ao ativar sincronização")}finally{V(!1)}},ne=async()=>{try{V(!0);const e=S.filter(n=>n.isManual);await ya({sincronizacaoAtiva:!1,dataFimSincronizacao:"",atividadesManuaisPreSincronizacao:[]}),await oa(e),m.success("Sincronização desativada! Atividades manuais mantidas.")}catch{m.error("Erro ao desativar sincronização")}finally{V(!1)}},ka=e=>e.atividade==="Outra atividade"&&e.atividadePersonalizada?e.atividadePersonalizada:e.atividade,Ia=e=>{const s=new Date().toISOString().split("T")[0];return e===s};if(La)return a.jsx(Ae,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:694"});const te=Ka(y,H);return a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:700",className:"space-y-6",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:702",className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:703",className:"flex items-center gap-3",children:[a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:704",className:"p-3 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-500 shadow-lg",children:a.jsx(Oa,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:705",className:"h-6 w-6 text-white"})}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:707",children:[a.jsx("h2",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:708",className:"text-xl font-bold",children:"Agenda Mensal"}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:709",className:"text-sm text-muted-foreground",children:"Visualize e organize suas atividades do mês"})]})]}),a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:713",className:"flex items-center gap-3",children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:715",className:"flex items-center gap-2 text-sm",children:[pa==="saving"&&a.jsxs(a.Fragment,{children:[a.jsx(Pa,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:718",className:"h-4 w-4 animate-spin text-blue-500"}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:719",className:"text-blue-500",children:"Salvando..."})]}),pa==="saved"&&a.jsxs(a.Fragment,{children:[a.jsx(Ce,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:724",className:"h-4 w-4 text-green-500"}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:725",className:"text-green-500",children:"Salvo!"})]})]})})]}),a.jsx(ia,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:733",className:`border-2 ${g.sincronizacaoAtiva?"border-emerald-400 bg-emerald-50 dark:bg-emerald-950/20":"border-gray-200"}`,children:a.jsx(la,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:734",className:"py-4 px-5",children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:735",className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:736",className:"flex items-center gap-3",children:[g.sincronizacaoAtiva?a.jsx(W,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:738",className:"h-5 w-5 text-emerald-600"}):a.jsx(Se,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:740",className:"h-5 w-5 text-gray-400"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:742",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:743",className:"font-medium",children:"Sincronização com Cronograma Semanal de Lista"}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:746",className:"text-sm text-muted-foreground",children:g.sincronizacaoAtiva?`Ativo até ${new Date(g.dataFimSincronizacao+"T00:00:00").toLocaleDateString("pt-BR")}`:"Desativado - As atividades do cronograma semanal não serão replicadas automaticamente"})]})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:755",className:"flex items-center gap-3",children:[a.jsx(me,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:756",checked:g.sincronizacaoAtiva,onCheckedChange:ae,disabled:X}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:761",className:"text-sm font-medium",children:g.sincronizacaoAtiva?"Ativado":"Desativado"})]})]})})}),a.jsx(ia,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:770",className:"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-950/30 dark:to-cyan-950/30 border-blue-200 dark:border-blue-800",children:a.jsx(la,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:771",className:"py-3 px-4",children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:772",className:"flex flex-wrap items-center gap-4",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:773",className:"flex items-center gap-2",children:[a.jsx(fe,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:774",className:"h-5 w-5 text-blue-500 flex-shrink-0"}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:775",className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"Legenda:"})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:777",className:"flex items-center gap-2",children:[a.jsx(da,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:778",className:"h-4 w-4 text-amber-500"}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:779",className:"text-sm text-blue-700 dark:text-blue-300",children:"Atividade manual"})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:781",className:"flex items-center gap-2",children:[a.jsx(W,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:782",className:"h-4 w-4 text-emerald-500"}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:783",className:"text-sm text-blue-700 dark:text-blue-300",children:"Atividade sincronizada"})]})]})})}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:790",className:"flex items-center justify-between",children:[a.jsx(l,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:791",variant:"outline",size:"icon",onClick:Ya,children:a.jsx(ve,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:792",className:"h-5 w-5"})}),a.jsxs("h3",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:794",className:"text-xl font-bold",children:[De[y]," ",H]}),a.jsx(l,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:797",variant:"outline",size:"icon",onClick:Wa,children:a.jsx(je,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:798",className:"h-5 w-5"})})]}),a.jsx(ia,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:803",className:"overflow-hidden",children:a.jsxs(la,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:804",className:"p-0",children:[a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:806",className:"grid grid-cols-7 border-b bg-gray-50 dark:bg-gray-800",children:we.map(e=>a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:808",className:"p-2 text-center text-sm font-semibold text-gray-600 dark:text-gray-300",children:e},e))}),a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:815",className:"grid grid-cols-7",children:te.map((e,s)=>{const n=ra(e.data);return n.length>0,a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:821",className:`
                    min-h-[100px] sm:min-h-[120px] p-1 sm:p-2 border-b border-r
                    ${e.isCurrentMonth?"":"bg-gray-50 dark:bg-gray-900/50"}
                    ${Ia(e.data)?"bg-blue-50 dark:bg-blue-950/30":""}
                  `,children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:829",className:"flex items-center justify-between mb-1",children:[a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:830",className:`
                      text-sm font-medium
                      ${e.isCurrentMonth?"":"text-gray-400"}
                      ${Ia(e.data)?"bg-blue-500 text-white px-2 py-0.5 rounded-full":""}
                    `,children:e.dia}),e.isCurrentMonth&&a.jsx(l,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:838",variant:"ghost",size:"icon",className:"h-6 w-6 opacity-50 hover:opacity-100",onClick:()=>Da(e.data),children:a.jsx(Ra,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:844",className:"h-3 w-3"})})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:850",className:"space-y-1 max-h-[80px] overflow-y-auto",children:[n.slice(0,3).map(t=>a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:852",className:"group relative flex items-center gap-1 px-1.5 py-0.5 rounded text-xs cursor-pointer hover:opacity-80",style:{backgroundColor:`${t.cor}20`,borderLeft:`3px solid ${t.cor}`},onClick:()=>wa(t),children:[t.isManual?a.jsx(da,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:859",className:"h-2.5 w-2.5 text-amber-500 flex-shrink-0"}):a.jsx(W,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:861",className:"h-2.5 w-2.5 text-emerald-500 flex-shrink-0"}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:863",className:"truncate",style:{color:t.cor},children:ka(t)}),a.jsx(l,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:866",variant:"ghost",size:"icon",className:"h-4 w-4 opacity-0 group-hover:opacity-100 absolute right-0 top-0",onClick:r=>{r.stopPropagation(),za(t.id)},children:a.jsx(Ta,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:875",className:"h-2.5 w-2.5 text-red-500"})})]},t.id)),n.length>3&&a.jsxs("button",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:880",className:"text-xs text-blue-600 hover:text-blue-800 hover:underline px-1 cursor-pointer font-medium",onClick:t=>{t.stopPropagation(),Qa(e.data),M(!0)},children:["+",n.length-3," mais"]})]})]},s)})})]})}),a.jsx(O,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:900",open:Ua,onOpenChange:b,children:a.jsxs(P,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:901",className:"sm:max-w-[425px]",children:[a.jsxs(R,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:902",children:[a.jsx(T,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:903",children:j?"Editar Atividade":"Nova Atividade"}),a.jsx($,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:906",children:Aa&&`Data: ${new Date(Aa+"T00:00:00").toLocaleDateString("pt-BR")}`})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:911",className:"space-y-4 py-4",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:913",className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:914",className:"space-y-2",children:[a.jsx(k,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:915",children:"Horário Início"}),a.jsx(U,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:916",type:"time",value:i.horaInicio,onChange:e=>v({...i,horaInicio:e.target.value})})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:922",className:"space-y-2",children:[a.jsx(k,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:923",children:"Horário Fim"}),a.jsx(U,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:924",type:"time",value:i.horaFim,onChange:e=>v({...i,horaFim:e.target.value})})]})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:933",className:"space-y-2",children:[a.jsx(k,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:934",children:"Atividade"}),a.jsxs(ce,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:935",value:i.atividade,onValueChange:e=>v({...i,atividade:e,cor:ga[e]||i.cor}),children:[a.jsx(ie,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:943",children:a.jsx(le,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:944",placeholder:"Selecione a atividade"})}),a.jsx(de,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:946",children:be.map(e=>a.jsx(ge,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:948",value:e,children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:949",className:"flex items-center gap-2",children:[a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:950",className:"w-3 h-3 rounded-full",style:{backgroundColor:ga[e]||"#94a3b8"}}),e]})},e))})]})]}),i.atividade==="Outra atividade"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:965",className:"space-y-2",children:[a.jsx(k,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:966",children:"Nome da Atividade"}),a.jsx(U,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:967",value:i.atividadePersonalizada,onChange:e=>v({...i,atividadePersonalizada:e.target.value}),placeholder:"Ex: Curso de inglês"})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:973",className:"space-y-2",children:[a.jsx(k,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:974",children:"Cor"}),a.jsx(U,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:975",type:"color",value:i.cor,onChange:e=>v({...i,cor:e.target.value}),className:"h-10 w-full"})]})]})]}),a.jsxs(L,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:986",children:[a.jsx(l,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:987",variant:"outline",onClick:()=>b(!1),children:"Cancelar"}),a.jsx(l,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:990",onClick:Za,className:"bg-gradient-to-r from-emerald-500 to-teal-500",children:j?"Salvar":"Adicionar"})]})]})}),a.jsx(O,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:998",open:_a,onOpenChange:Q,children:a.jsxs(P,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:999",className:"sm:max-w-[425px]",children:[a.jsxs(R,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1000",children:[a.jsx(T,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1001",children:"Configurar Sincronização"}),a.jsx($,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1002",children:"As atividades do seu Cronograma Semanal de Lista serão replicadas automaticamente na agenda até a data definida."})]}),a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1007",className:"space-y-4 py-4",children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1008",className:"space-y-2",children:[a.jsx(k,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1009",children:"Data de Término da Sincronização"}),a.jsx(U,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1010",type:"date",value:na,onChange:e=>fa(e.target.value),min:new Date().toISOString().split("T")[0]}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1016",className:"text-xs text-muted-foreground",children:"As atividades serão sincronizadas de hoje até esta data."})]})}),a.jsxs(L,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1022",children:[a.jsx(l,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1023",variant:"outline",onClick:()=>Q(!1),children:"Cancelar"}),a.jsx(l,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1026",type:"button",onClick:ee,className:"bg-gradient-to-r from-emerald-500 to-teal-500",children:"Continuar"})]})]})}),a.jsx(O,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1038",open:Ba,onOpenChange:q,children:a.jsxs(P,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1039",className:"sm:max-w-[425px]",children:[a.jsxs(R,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1040",children:[a.jsxs(T,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1041",className:"flex items-center gap-2",children:[a.jsx(re,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1042",className:"h-5 w-5 text-amber-500"}),"Confirmar Sincronização"]}),a.jsxs($,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1045",children:["Você possui ",S.filter(e=>e.isManual).length," atividade(s) adicionada(s) manualmente na agenda."]})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1050",className:"space-y-4 py-4",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1051",className:"text-sm",children:"O que deseja fazer com as atividades manuais existentes?"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1055",className:"space-y-3",children:[a.jsxs("label",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1056",className:"flex items-start gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800",children:[a.jsx("input",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1057",type:"radio",name:"manterAtividades",checked:aa,onChange:()=>ha(!0),className:"mt-1"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1064",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1065",className:"font-medium",children:"Manter atividades manuais"}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1066",className:"text-sm text-muted-foreground",children:"As atividades que você adicionou manualmente serão mantidas junto com as sincronizadas."})]})]}),a.jsxs("label",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1072",className:"flex items-start gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800",children:[a.jsx("input",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1073",type:"radio",name:"manterAtividades",checked:!aa,onChange:()=>ha(!1),className:"mt-1"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1080",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1081",className:"font-medium",children:"Excluir atividades manuais"}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1082",className:"text-sm text-muted-foreground",children:"Apenas as atividades sincronizadas do cronograma semanal serão mantidas."})]})]})]})]}),a.jsxs(L,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1090",children:[a.jsx(l,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1091",variant:"outline",onClick:()=>q(!1),children:"Cancelar"}),a.jsx(l,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1094",onClick:se,className:"bg-gradient-to-r from-emerald-500 to-teal-500",disabled:X,children:X?a.jsxs(a.Fragment,{children:[a.jsx(Pa,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1101",className:"h-4 w-4 mr-2 animate-spin"}),"Sincronizando..."]}):"Ativar Sincronização"})]})]})}),a.jsx(O,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1113",open:Va,onOpenChange:G,children:a.jsxs(P,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1114",className:"sm:max-w-[425px]",children:[a.jsxs(R,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1115",children:[a.jsx(T,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1116",children:"Editar Atividade Sincronizada"}),a.jsx($,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1117",children:"Esta atividade foi sincronizada do cronograma semanal. Como deseja editá-la?"})]}),a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1122",className:"space-y-4 py-4",children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1123",className:"space-y-3",children:[a.jsxs("label",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1124",className:"flex items-start gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800",children:[a.jsx("input",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1125",type:"radio",name:"editType",checked:sa==="single",onChange:()=>Ca("single"),className:"mt-1"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1132",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1133",className:"font-medium",children:"Apenas este dia"}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1134",className:"text-sm text-muted-foreground",children:"A atividade será convertida para manual e editada apenas neste dia."})]})]}),a.jsxs("label",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1140",className:"flex items-start gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800",children:[a.jsx("input",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1141",type:"radio",name:"editType",checked:sa==="all",onChange:()=>Ca("all"),className:"mt-1"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1148",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1149",className:"font-medium",children:"Todos os dias desta atividade"}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1150",className:"text-sm text-muted-foreground",children:"Você será direcionado para editar no cronograma semanal."})]})]})]})}),a.jsxs(L,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1158",children:[a.jsx(l,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1159",variant:"outline",onClick:()=>G(!1),children:"Cancelar"}),a.jsx(l,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1162",onClick:Xa,className:"bg-gradient-to-r from-emerald-500 to-teal-500",children:"Continuar"})]})]})}),a.jsx(O,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1170",open:Ja,onOpenChange:M,children:a.jsxs(P,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1171",className:"sm:max-w-[500px] max-h-[80vh] overflow-y-auto",children:[a.jsxs(R,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1172",children:[a.jsxs(T,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1173",className:"flex items-center gap-2",children:[a.jsx(Oa,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1174",className:"h-5 w-5 text-blue-500"}),"Atividades do Dia"]}),a.jsx($,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1177",children:N&&new Date(N+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1187",className:"space-y-3 py-4",children:[N&&ra(N).map(e=>a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1189",className:"flex items-center justify-between p-3 rounded-lg border hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",style:{borderLeft:`4px solid ${e.cor}`},children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1194",className:"flex items-center gap-3",children:[e.isManual?a.jsx(da,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1196",className:"h-4 w-4 text-amber-500 flex-shrink-0"}):a.jsx(W,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1198",className:"h-4 w-4 text-emerald-500 flex-shrink-0"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1200",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1201",className:"font-medium",style:{color:e.cor},children:ka(e)}),a.jsxs("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1204",className:"text-sm text-muted-foreground flex items-center gap-1",children:[a.jsx(Ne,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1205",className:"h-3 w-3"}),e.horaInicio," - ",e.horaFim]})]})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1210",className:"flex items-center gap-2",children:[a.jsx(l,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1211",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{M(!1),wa(e)},children:a.jsx(ye,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1220",className:"h-4 w-4 text-blue-500"})}),a.jsx(l,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1222",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{za(e.id)},children:a.jsx(Ta,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1230",className:"h-4 w-4 text-red-500"})})]})]},e.id)),N&&ra(N).length===0&&a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1237",className:"text-center text-muted-foreground py-4",children:"Nenhuma atividade neste dia."})]}),a.jsxs(L,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1243",children:[a.jsxs(l,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1244",variant:"outline",onClick:()=>{M(!1),Da(N)},className:"mr-auto",children:[a.jsx(Ra,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1252",className:"h-4 w-4 mr-2"}),"Adicionar Atividade"]}),a.jsx(l,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1255",onClick:()=>M(!1),children:"Fechar"})]})]})})]})}export{ts as default};
