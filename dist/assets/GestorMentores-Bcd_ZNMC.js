import{c as U,j as e,B as n,C as v,b as N,U as E,f as k,g as A,h as F,D as I,k as L,l as q,m as z,n as O,o as T}from"./index-DWLoGaDn.js";import{r as c}from"./vendor-recharts-CyIoRYya.js";import{g as x}from"./api-BhBbGOW3.js";import{I as l}from"./input-B0g2n2FB.js";import{L as i}from"./label-K6LD2YPz.js";import{t as o}from"./vendor-ui-Cvn9ctBs.js";import{P as y}from"./plus-BLf43VOc.js";import{S as B}from"./square-pen-DsPHKYJw.js";import{T as H}from"./trash-2-DhCm_0ab.js";import{B as R,P as J}from"./palette-Bh7moBFt.js";import{I as $}from"./image-DtNfYFVa.js";import"./vendor-react-YualkU3Z.js";import"./vendor-firebase-BLqY7lrF.js";import"./useComposition-iS-LvcVy.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=U("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);function le(){const[P,d]=c.useState(!1),[r,g]=c.useState(null),[m,w]=c.useState([]),[C,f]=c.useState(!0),[j,G]=c.useState(!1),[t,a]=c.useState({nome:"",email:"",senha:"",nomePlataforma:"",logoUrl:"",corPrincipal:"#3b82f6"}),p=async()=>{try{f(!0);const s=await x.getMentores();w(s)}catch(s){o.error(s.message||"Erro ao carregar mentores")}finally{f(!1)}};c.useEffect(()=>{p()},[]);const h=()=>{a({nome:"",email:"",senha:"",nomePlataforma:"",logoUrl:"",corPrincipal:"#3b82f6"})},u=s=>{s?(g(s),a({nome:s.nome,email:s.email,senha:"",nomePlataforma:s.nomePlataforma,logoUrl:s.logoUrl||"",corPrincipal:s.corPrincipal||"#3b82f6"})):(g(null),h()),d(!0)},b=async s=>{if(s.preventDefault(),!t.nome||!t.email||!t.nomePlataforma){o.error("Preencha todos os campos obrigatórios");return}if(!r&&!t.senha){o.error("A senha é obrigatória para novos mentores");return}if(!r&&t.senha.length<6){o.error("A senha deve ter no mínimo 6 caracteres");return}try{G(!0),r?(await x.updateMentor({mentorId:r.id,...t}),o.success("Mentor atualizado com sucesso!")):(await x.createMentor({...t,password:t.senha}),o.success("Mentor adicionado com sucesso!")),d(!1),g(null),h(),await p()}catch(M){o.error(M.message||"Erro ao salvar mentor")}finally{G(!1)}},D=async(s,M)=>{if(window.confirm(`Tem certeza que deseja remover o mentor "${M}"?`))try{await x.deleteMentor(s),o.success("Mentor removido com sucesso!"),await p()}catch(S){o.error(S.message||"Erro ao remover mentor")}};return C?e.jsx("div",{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:131",className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:132",className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e.jsxs("div",{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:138",className:"space-y-6",children:[e.jsxs("div",{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:139",className:"flex items-center justify-between",children:[e.jsxs("div",{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:140",children:[e.jsx("h1",{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:141",className:"text-3xl font-bold",children:"Gestão de Mentores"}),e.jsx("p",{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:142",className:"text-muted-foreground mt-1",children:"Adicione e gerencie mentores/clientes da plataforma"})]}),e.jsxs(n,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:146",onClick:()=>u(),children:[e.jsx(y,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:147",className:"h-4 w-4 mr-2"}),"Adicionar Mentor"]})]}),!m||m.length===0?e.jsx(v,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:153",children:e.jsxs(N,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:154",className:"py-12 text-center",children:[e.jsx(E,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:155",className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("p",{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:156",className:"text-muted-foreground",children:"Nenhum mentor cadastrado ainda"}),e.jsxs(n,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:157",onClick:()=>u(),className:"mt-4",children:[e.jsx(y,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:158",className:"h-4 w-4 mr-2"}),"Adicionar Primeiro Mentor"]})]})}):e.jsx("div",{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:164",className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:m.map(s=>e.jsxs(v,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:166",className:"relative",children:[e.jsx(k,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:167",children:e.jsxs("div",{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:168",className:"flex items-start justify-between",children:[e.jsxs("div",{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:169",className:"flex-1",children:[e.jsx(A,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:170",className:"text-lg",children:s.nome}),e.jsxs(F,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:171",className:"flex items-center gap-1 mt-1",children:[e.jsx(K,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:172",className:"h-3 w-3"}),s.email]})]}),e.jsxs("div",{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:176",className:"flex gap-1",children:[e.jsx(n,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:177",variant:"ghost",size:"icon",onClick:()=>u(s),children:e.jsx(B,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:182",className:"h-4 w-4"})}),e.jsx(n,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:184",variant:"ghost",size:"icon",onClick:()=>D(s.id,s.nome),children:e.jsx(H,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:189",className:"h-4 w-4 text-destructive"})})]})]})}),e.jsxs(N,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:194",className:"space-y-3",children:[e.jsxs("div",{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:195",className:"flex items-center gap-2 text-sm",children:[e.jsx(R,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:196",className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:197",className:"font-medium",children:s.nomePlataforma})]}),s.logoUrl&&e.jsxs("div",{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:200",className:"flex items-center gap-2 text-sm",children:[e.jsx($,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:201",className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:202",className:"text-xs text-muted-foreground truncate",children:s.logoUrl})]}),e.jsxs("div",{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:207",className:"flex items-center gap-2 text-sm",children:[e.jsx(J,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:208",className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:209",className:"flex items-center gap-2",children:[e.jsx("div",{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:210",className:"w-6 h-6 rounded border",style:{backgroundColor:s.corPrincipal}}),e.jsx("span",{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:214",className:"text-xs font-mono",children:s.corPrincipal})]})]})]})]},s.id))}),e.jsx(I,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:223",open:P,onOpenChange:d,children:e.jsx(L,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:224",className:"sm:max-w-[500px]",children:e.jsxs("form",{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:225",onSubmit:b,children:[e.jsxs(q,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:226",children:[e.jsx(z,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:227",children:r?"Editar Mentor":"Adicionar Novo Mentor"}),e.jsx(O,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:230",children:r?"Atualize as informações do mentor":"Preencha os dados do novo mentor/cliente"})]}),e.jsxs("div",{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:237",className:"space-y-4 py-4",children:[e.jsxs("div",{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:238",className:"space-y-2",children:[e.jsx(i,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:239",htmlFor:"nome",children:"Nome do Mentor *"}),e.jsx(l,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:240",id:"nome",value:t.nome,onChange:s=>a({...t,nome:s.target.value}),placeholder:"João Silva",required:!0})]}),e.jsxs("div",{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:249",className:"space-y-2",children:[e.jsx(i,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:250",htmlFor:"email",children:"Email *"}),e.jsx(l,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:251",id:"email",type:"email",value:t.email,onChange:s=>a({...t,email:s.target.value}),placeholder:"joao@exemplo.com",required:!0,disabled:!!r}),r&&e.jsx("p",{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:261",className:"text-xs text-muted-foreground",children:"O email não pode ser alterado"})]}),!r&&e.jsxs("div",{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:268",className:"space-y-2",children:[e.jsx(i,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:269",htmlFor:"senha",children:"Senha Inicial *"}),e.jsx(l,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:270",id:"senha",type:"password",value:t.senha,onChange:s=>a({...t,senha:s.target.value}),placeholder:"Mínimo 6 caracteres",required:!0,minLength:6}),e.jsx("p",{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:279",className:"text-xs text-muted-foreground",children:"O mentor poderá alterar esta senha nas configurações"})]}),e.jsxs("div",{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:285",className:"space-y-2",children:[e.jsx(i,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:286",htmlFor:"nomePlataforma",children:"Nome da Plataforma *"}),e.jsx(l,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:287",id:"nomePlataforma",value:t.nomePlataforma,onChange:s=>a({...t,nomePlataforma:s.target.value}),placeholder:"Mentoria ENEM Pro",required:!0}),e.jsx("p",{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:296",className:"text-xs text-muted-foreground",children:"Nome que aparecerá para os alunos deste mentor"})]}),e.jsxs("div",{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:301",className:"space-y-2",children:[e.jsx(i,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:302",htmlFor:"logoUrl",children:"URL do Logo"}),e.jsx(l,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:303",id:"logoUrl",type:"url",value:t.logoUrl,onChange:s=>a({...t,logoUrl:s.target.value}),placeholder:"https://exemplo.com/logo.png"})]}),e.jsxs("div",{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:312",className:"space-y-2",children:[e.jsx(i,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:313",htmlFor:"corPrincipal",children:"Cor Principal"}),e.jsxs("div",{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:314",className:"flex gap-2",children:[e.jsx(l,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:315",id:"corPrincipal",type:"color",value:t.corPrincipal,onChange:s=>a({...t,corPrincipal:s.target.value}),className:"w-20 h-10"}),e.jsx(l,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:324",type:"text",value:t.corPrincipal,onChange:s=>a({...t,corPrincipal:s.target.value}),placeholder:"#3b82f6",className:"flex-1 font-mono"})]})]})]}),e.jsxs(T,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:337",children:[e.jsx(n,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:338",type:"button",variant:"outline",onClick:()=>{d(!1),g(null),h()},children:"Cancelar"}),e.jsx(n,{"data-loc":"client/src/pages/gestor/GestorMentores.tsx:349",type:"submit",disabled:j,children:j?"Salvando...":r?"Atualizar":"Adicionar"})]})]})})})]})}export{le as default};
