import{c as ge,$ as E,a0 as N,j as a,C as ga,b as ma,B as g,D as L,k as _,l as U,m as B,n as H,o as V,a9 as me}from"./index-z7qFY3v9.js";import{r as o}from"./vendor-recharts-CyIoRYya.js";import{I as Q}from"./input-DR4KNzTj.js";import{L as P}from"./label-DU0W3lLF.js";import{S as ue,a as xe,b as pe,c as he,d as Ae}from"./select-Wv1MVybD.js";import{S as Ce}from"./switch-cX7vqu67.js";import{t as m}from"./vendor-ui-Cvn9ctBs.js";import{w as J,x as q,D as Pa,e as O,T as Oa,K as fe,h as ve,j as je}from"./vendor-firebase-BLqY7lrF.js";import{a as Se}from"./MentorViewContext-BItG166-.js";import{C as Ne,a as ye,L as ea}from"./skeleton-loader-BpgsyXAw.js";import{a as Ra}from"./CronogramaWrapper-BdE06ZQi.js";import{L as Ta}from"./loader-circle-CUEj7dPZ.js";import{I as be}from"./info-DSBOpWxT.js";import{S as ua}from"./star-JeVeD7oJ.js";import{C as De}from"./chevron-left-BTlZJXoQ.js";import{C as we}from"./chevron-right-H_VH672O.js";import{P as $a}from"./plus-BXiXTEla.js";import{T as La}from"./trash-2-8WMRANbf.js";import{C as ze}from"./clock-DlAjAoTj.js";import{P as ke}from"./pen-COziml2u.js";import"./vendor-react-YualkU3Z.js";import"./useComposition-iS-LvcVy.js";import"./index-D_NI8lvJ.js";import"./index-ChHGvnL7.js";import"./check-DUNIgOnr.js";import"./calendar-bGbyHEyd.js";import"./refresh-cw-8iP-1u2U.js";import"./zap-BMint6RN.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=ge("Link2Off",[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Me=["Matemática","Biologia","Física","Química","História","Geografia","Filosofia","Sociologia","Linguagens","Redação","Revisão","Simulado","Correção de simulado","Preenchimento de lacunas","Dormir","Atividade física","Igreja","Outra atividade"],xa={Matemática:"#3b82f6",Biologia:"#10b981",Física:"#f59e0b",Química:"#ef4444",História:"#8b5cf6",Geografia:"#ec4899",Filosofia:"#06b6d4",Sociologia:"#f97316",Linguagens:"#84cc16",Redação:"#14b8a6",Revisão:"#a855f7",Simulado:"#f43f5e","Correção de simulado":"#0ea5e9","Preenchimento de lacunas":"#eab308",Dormir:"#6366f1","Atividade física":"#22c55e",Igreja:"#d946ef","Outra atividade":"#94a3b8"},Fe=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],Ee=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],_a=(d,p)=>{const k=p.atividade==="Outra atividade"?p.atividadePersonalizada||"outra":p.atividade;return`sync_${d}_${p.diaSemana}_${p.horaInicio.replace(":","")}_${k.replace(/\s+/g,"_")}`};function ls(){const d=Se(),[p,k]=o.useState(new Date().getMonth()),[G,pa]=o.useState(new Date().getFullYear()),[D,R]=o.useState([]),[Ua,ha]=o.useState([]),[Ba,Aa]=o.useState(!0),[sa,K]=o.useState(!1),[Ca,Y]=o.useState("idle"),[u,na]=o.useState({sincronizacaoAtiva:!1,dataFimSincronizacao:"",atividadesManuaisPreSincronizacao:[]}),[Ha,I]=o.useState(!1),[Va,W]=o.useState(!1),[Qa,X]=o.useState(!1),[ta,fa]=o.useState(!0),[w,oa]=o.useState(null),[va,Ja]=o.useState(""),[qa,Z]=o.useState(!1),[ra,ja]=o.useState("single"),[ca,Sa]=o.useState(""),[Ga,T]=o.useState(!1),[z,Ka]=o.useState(""),[i,y]=o.useState({data:"",horaInicio:"08:00",horaFim:"09:00",atividade:"",atividadePersonalizada:"",cor:"#3b82f6",isManual:!0}),$=o.useRef(null),ia=o.useRef(!1),Na=o.useRef([]),ya=o.useRef(null);o.useEffect(()=>{Na.current=D},[D]),o.useEffect(()=>{ya.current=d},[d]),o.useEffect(()=>d?((async()=>{Aa(!0),ia.current=!1;try{await Promise.all([ba(),Ya(),Wa()])}finally{Aa(!1)}})(),()=>{$.current&&clearTimeout($.current)}):void 0,[d]);const ba=async()=>{try{const e=d||E.currentUser?.uid;if(!e)throw new Error("Usuário não autenticado");const s=J(N,"alunos",e,"agenda"),n=(await q(s)).docs.map(c=>({id:c.id,...c.data()}));R(n)}catch{}},Ya=async()=>{try{const e=d||E.currentUser?.uid;if(!e)throw new Error("Usuário não autenticado");const s=J(N,"alunos",e,"cronograma_lista"),n=(await q(s)).docs.map(c=>({id:c.id,...c.data()}));ha(n)}catch{}},Wa=async()=>{try{const e=d||E.currentUser?.uid;if(!e)throw new Error("Usuário não autenticado");const s=O(N,"alunos",e,"agenda_config","config"),t=await ve(s);t.exists()&&na(t.data())}catch{}},Da=async e=>{try{const s=d||E.currentUser?.uid;if(!s)throw new Error("Usuário não autenticado");const t=O(N,"alunos",s,"agenda_config","config");await je(t,e),na(e)}catch(s){throw s}},la=async e=>{try{const s=d||E.currentUser?.uid;if(!s)throw new Error("Usuário não autenticado");const t=J(N,"alunos",s,"agenda"),n=await q(t),c=Pa(N);n.docs.forEach(x=>{c.delete(x.ref)}),e.forEach(x=>{const{id:C,...v}=x,b=O(t);c.set(b,{...v,createdAt:Oa.now()})}),await c.commit(),await ba()}catch(s){throw s}},wa=o.useCallback(()=>{ia.current=!0,Y("saving"),$.current&&clearTimeout($.current),$.current=setTimeout(async()=>{if(ya.current)try{await la(Na.current),ia.current=!1,Y("saved"),setTimeout(()=>{Y("idle")},2e3)}catch{Y("error"),m.error("Erro ao salvar. Tente novamente.")}},1500)},[]),za=o.useCallback(async(e,s)=>{if(!(!s.sincronizacaoAtiva||!s.dataFimSincronizacao))try{const t=d||E.currentUser?.uid;if(!t)return;const n=J(N,"alunos",t,"agenda"),x=(await q(n)).docs.map(l=>({id:l.id,...l.data()})),C=x.filter(l=>l.isManual),v=x.filter(l=>!l.isManual),b=new Map,r=new Date(s.dataFimSincronizacao),j=new Date;j.setHours(0,0,0,0);let S=new Date(j);for(;S<=r;){const l=S.getDay(),f=S.toISOString().split("T")[0];e.filter(A=>A.diaSemana===l).forEach(A=>{const F=_a(f,A);b.set(F,{id:F,data:f,horaInicio:A.horaInicio,horaFim:A.horaFim,atividade:A.atividade,atividadePersonalizada:A.atividadePersonalizada,cor:A.cor,isManual:!1})}),S.setDate(S.getDate()+1)}const M=Pa(N);let aa=0;const ie=new Set(b.keys());v.forEach(l=>{if(!ie.has(l.id)){const f=O(n,l.id);M.delete(f),aa++}});const le=new Set(v.map(l=>l.id));if(b.forEach((l,f)=>{if(le.has(f)){const h=v.find(A=>A.id===f);if(h&&(h.horaInicio!==l.horaInicio||h.horaFim!==l.horaFim||h.atividade!==l.atividade||h.atividadePersonalizada!==l.atividadePersonalizada||h.cor!==l.cor)){const F=O(n,f),{id:Pe,...de}=l;M.update(F,de),aa++}}else{const h=O(n,f),{id:A,...F}=l;M.set(h,{...F,createdAt:Oa.now()}),aa++}}),aa>0){await M.commit();const f=(await q(n)).docs.map(h=>({id:h.id,...h.data()}));R(f)}}catch{}},[d]);o.useEffect(()=>{if(!d||!u.sincronizacaoAtiva)return;const s=J(N,"alunos",d,"cronograma_lista"),t=fe(s,n=>{const c=n.docs.map(x=>({id:x.id,...x.data()}));ha(c),za(c,u)},n=>{});return()=>{t()}},[d,u.sincronizacaoAtiva,u.dataFimSincronizacao,za]);const Xa=(e,s)=>{const t=new Date(s,e,1),c=new Date(s,e+1,0).getDate(),x=t.getDay(),C=[],v=new Date(s,e,0).getDate();for(let r=x-1;r>=0;r--){const j=v-r,S=e===0?11:e-1,M=e===0?s-1:s;C.push({data:`${M}-${String(S+1).padStart(2,"0")}-${String(j).padStart(2,"0")}`,dia:j,isCurrentMonth:!1})}for(let r=1;r<=c;r++)C.push({data:`${s}-${String(e+1).padStart(2,"0")}-${String(r).padStart(2,"0")}`,dia:r,isCurrentMonth:!0});const b=42-C.length;for(let r=1;r<=b;r++){const j=e===11?0:e+1,S=e===11?s+1:s;C.push({data:`${S}-${String(j+1).padStart(2,"0")}-${String(r).padStart(2,"0")}`,dia:r,isCurrentMonth:!1})}return C},Za=()=>{p===0?(k(11),pa(G-1)):k(p-1)},ae=()=>{p===11?(k(0),pa(G+1)):k(p+1)},da=e=>D.filter(s=>s.data===e).sort((s,t)=>s.horaInicio.localeCompare(t.horaInicio)),ka=e=>{Ja(e),oa(null),y({data:e,horaInicio:"08:00",horaFim:"09:00",atividade:"",atividadePersonalizada:"",cor:"#3b82f6",isManual:!0}),I(!0)},Ia=e=>{e.isManual?(oa(e),y({...e,atividadePersonalizada:e.atividadePersonalizada||""}),I(!0)):(oa(e),Z(!0))},ee=()=>{w&&(Z(!1),ra==="single"?(y({...w,atividadePersonalizada:w.atividadePersonalizada||"",isManual:!0}),I(!0)):m.info("Para editar todas as ocorrências, vá para a aba 'Semanal > Lista' e edite a atividade lá."))},se=()=>{if(!i.atividade){m.error("Selecione uma atividade");return}if(i.atividade==="Outra atividade"&&!i.atividadePersonalizada?.trim()){m.error("Informe o nome da atividade personalizada");return}if(i.horaInicio>=i.horaFim){m.error("O horário de início deve ser anterior ao horário de fim");return}const e=i.atividade==="Outra atividade"?i.cor:xa[i.atividade]||i.cor,s={...i,cor:e,isManual:!0};if(w)R(t=>t.map(n=>n.id===w.id?{...s,id:n.id}:n)),m.success("Atividade atualizada!");else{const t=`temp_${Date.now()}`;R(n=>[...n,{...s,id:t}]),m.success("Atividade adicionada!")}I(!1),wa()},Ma=e=>{const s=D.find(t=>t.id===e);s&&!s.isManual&&m.warning("Esta é uma atividade sincronizada do cronograma semanal. Para removê-la permanentemente, edite o cronograma semanal na aba 'Semanal'.",{duration:5e3}),R(t=>t.filter(n=>n.id!==e)),m.success("Atividade removida!"),wa()},ne=()=>{u.sincronizacaoAtiva?re():(Sa(""),W(!0))},te=()=>{if(!ca){m.error("Defina a data de término da sincronização");return}na(e=>({...e,dataFimSincronizacao:ca})),W(!1),X(!0)},oe=async()=>{try{K(!0);const e=D.filter(C=>C.isManual),s=[];ta&&s.push(...e);const t=new Date(u.dataFimSincronizacao),n=new Date;n.setHours(0,0,0,0);let c=new Date(n);for(;c<=t;){const C=c.getDay(),v=c.toISOString().split("T")[0];Ua.filter(r=>r.diaSemana===C).forEach(r=>{const j=_a(v,r);s.push({id:j,data:v,horaInicio:r.horaInicio,horaFim:r.horaFim,atividade:r.atividade,atividadePersonalizada:r.atividadePersonalizada,cor:r.cor,isManual:!1})}),c.setDate(c.getDate()+1)}const x={sincronizacaoAtiva:!0,dataFimSincronizacao:u.dataFimSincronizacao,atividadesManuaisPreSincronizacao:e};await Da(x),await la(s),X(!1),m.success("Sincronização ativada com sucesso!")}catch{m.error("Erro ao ativar sincronização")}finally{K(!1)}},re=async()=>{try{K(!0);const e=D.filter(t=>t.isManual);await Da({sincronizacaoAtiva:!1,dataFimSincronizacao:"",atividadesManuaisPreSincronizacao:[]}),await la(e),m.success("Sincronização desativada! Atividades manuais mantidas.")}catch{m.error("Erro ao desativar sincronização")}finally{K(!1)}},Fa=e=>e.atividade==="Outra atividade"&&e.atividadePersonalizada?e.atividadePersonalizada:e.atividade,Ea=e=>{const s=new Date().toISOString().split("T")[0];return e===s};if(Ba)return a.jsx(Ne,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:751"});const ce=Xa(p,G);return a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:757",className:"space-y-6",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:759",className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:760",className:"flex items-center gap-3",children:[a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:761",className:"p-3 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-500 shadow-lg",children:a.jsx(Ra,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:762",className:"h-6 w-6 text-white"})}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:764",children:[a.jsx("h2",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:765",className:"text-xl font-bold",children:"Agenda Mensal"}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:766",className:"text-sm text-muted-foreground",children:"Visualize e organize suas atividades do mês"})]})]}),a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:770",className:"flex items-center gap-3",children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:772",className:"flex items-center gap-2 text-sm",children:[Ca==="saving"&&a.jsxs(a.Fragment,{children:[a.jsx(Ta,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:775",className:"h-4 w-4 animate-spin text-blue-500"}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:776",className:"text-blue-500",children:"Salvando..."})]}),Ca==="saved"&&a.jsxs(a.Fragment,{children:[a.jsx(ye,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:781",className:"h-4 w-4 text-green-500"}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:782",className:"text-green-500",children:"Salvo!"})]})]})})]}),a.jsx(ga,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:790",className:`border-2 ${u.sincronizacaoAtiva?"border-emerald-400 bg-emerald-50 dark:bg-emerald-950/20":"border-gray-200"}`,children:a.jsx(ma,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:791",className:"py-4 px-5",children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:792",className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:793",className:"flex items-center gap-3",children:[u.sincronizacaoAtiva?a.jsx(ea,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:795",className:"h-5 w-5 text-emerald-600"}):a.jsx(Ie,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:797",className:"h-5 w-5 text-gray-400"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:799",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:800",className:"font-medium",children:"Sincronização com Cronograma Semanal de Lista"}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:803",className:"text-sm text-muted-foreground",children:u.sincronizacaoAtiva?`Ativo até ${new Date(u.dataFimSincronizacao+"T00:00:00").toLocaleDateString("pt-BR")}`:"Desativado - As atividades do cronograma semanal não serão replicadas automaticamente"})]})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:812",className:"flex items-center gap-3",children:[a.jsx(Ce,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:813",checked:u.sincronizacaoAtiva,onCheckedChange:ne,disabled:sa}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:818",className:"text-sm font-medium",children:u.sincronizacaoAtiva?"Ativado":"Desativado"})]})]})})}),a.jsx(ga,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:827",className:"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-950/30 dark:to-cyan-950/30 border-blue-200 dark:border-blue-800",children:a.jsx(ma,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:828",className:"py-3 px-4",children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:829",className:"flex flex-wrap items-center gap-4",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:830",className:"flex items-center gap-2",children:[a.jsx(be,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:831",className:"h-5 w-5 text-blue-500 flex-shrink-0"}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:832",className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"Legenda:"})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:834",className:"flex items-center gap-2",children:[a.jsx(ua,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:835",className:"h-4 w-4 text-amber-500"}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:836",className:"text-sm text-blue-700 dark:text-blue-300",children:"Atividade manual"})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:838",className:"flex items-center gap-2",children:[a.jsx(ea,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:839",className:"h-4 w-4 text-emerald-500"}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:840",className:"text-sm text-blue-700 dark:text-blue-300",children:"Atividade sincronizada"})]})]})})}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:847",className:"flex items-center justify-between",children:[a.jsx(g,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:848",variant:"outline",size:"icon",onClick:Za,children:a.jsx(De,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:849",className:"h-5 w-5"})}),a.jsxs("h3",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:851",className:"text-xl font-bold",children:[Fe[p]," ",G]}),a.jsx(g,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:854",variant:"outline",size:"icon",onClick:ae,children:a.jsx(we,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:855",className:"h-5 w-5"})})]}),a.jsx(ga,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:860",className:"overflow-hidden",children:a.jsxs(ma,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:861",className:"p-0",children:[a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:863",className:"grid grid-cols-7 border-b bg-gray-50 dark:bg-gray-800",children:Ee.map(e=>a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:865",className:"p-2 text-center text-sm font-semibold text-gray-600 dark:text-gray-300",children:e},e))}),a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:872",className:"grid grid-cols-7",children:ce.map((e,s)=>{const t=da(e.data);return t.length>0,a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:878",className:`
                    min-h-[100px] sm:min-h-[120px] p-1 sm:p-2 border-b border-r
                    ${e.isCurrentMonth?"":"bg-gray-50 dark:bg-gray-900/50"}
                    ${Ea(e.data)?"bg-blue-50 dark:bg-blue-950/30":""}
                  `,children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:886",className:"flex items-center justify-between mb-1",children:[a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:887",className:`
                      text-sm font-medium
                      ${e.isCurrentMonth?"":"text-gray-400"}
                      ${Ea(e.data)?"bg-blue-500 text-white px-2 py-0.5 rounded-full":""}
                    `,children:e.dia}),e.isCurrentMonth&&a.jsx(g,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:895",variant:"ghost",size:"icon",className:"h-6 w-6 opacity-50 hover:opacity-100",onClick:()=>ka(e.data),children:a.jsx($a,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:901",className:"h-3 w-3"})})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:907",className:"space-y-1 max-h-[80px] overflow-y-auto",children:[t.slice(0,3).map(n=>a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:909",className:"group relative flex items-center gap-1 px-1.5 py-0.5 rounded text-xs cursor-pointer hover:opacity-80",style:{backgroundColor:`${n.cor}20`,borderLeft:`3px solid ${n.cor}`},onClick:()=>Ia(n),children:[n.isManual?a.jsx(ua,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:916",className:"h-2.5 w-2.5 text-amber-500 flex-shrink-0"}):a.jsx(ea,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:918",className:"h-2.5 w-2.5 text-emerald-500 flex-shrink-0"}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:920",className:"truncate",style:{color:n.cor},children:Fa(n)}),a.jsx(g,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:923",variant:"ghost",size:"icon",className:"h-4 w-4 opacity-0 group-hover:opacity-100 absolute right-0 top-0",onClick:c=>{c.stopPropagation(),Ma(n.id)},children:a.jsx(La,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:932",className:"h-2.5 w-2.5 text-red-500"})})]},n.id)),t.length>3&&a.jsxs("button",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:937",className:"text-xs text-blue-600 hover:text-blue-800 hover:underline px-1 cursor-pointer font-medium",onClick:n=>{n.stopPropagation(),Ka(e.data),T(!0)},children:["+",t.length-3," mais"]})]})]},s)})})]})}),a.jsx(L,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:957",open:Ha,onOpenChange:I,children:a.jsxs(_,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:958",className:"sm:max-w-[425px]",children:[a.jsxs(U,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:959",children:[a.jsx(B,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:960",children:w?"Editar Atividade":"Nova Atividade"}),a.jsx(H,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:963",children:va&&`Data: ${new Date(va+"T00:00:00").toLocaleDateString("pt-BR")}`})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:968",className:"space-y-4 py-4",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:970",className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:971",className:"space-y-2",children:[a.jsx(P,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:972",children:"Horário Início"}),a.jsx(Q,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:973",type:"time",value:i.horaInicio,onChange:e=>y({...i,horaInicio:e.target.value})})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:979",className:"space-y-2",children:[a.jsx(P,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:980",children:"Horário Fim"}),a.jsx(Q,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:981",type:"time",value:i.horaFim,onChange:e=>y({...i,horaFim:e.target.value})})]})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:990",className:"space-y-2",children:[a.jsx(P,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:991",children:"Atividade"}),a.jsxs(ue,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:992",value:i.atividade,onValueChange:e=>y({...i,atividade:e,cor:xa[e]||i.cor}),children:[a.jsx(xe,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1000",children:a.jsx(pe,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1001",placeholder:"Selecione a atividade"})}),a.jsx(he,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1003",children:Me.map(e=>a.jsx(Ae,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1005",value:e,children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1006",className:"flex items-center gap-2",children:[a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1007",className:"w-3 h-3 rounded-full",style:{backgroundColor:xa[e]||"#94a3b8"}}),e]})},e))})]})]}),i.atividade==="Outra atividade"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1022",className:"space-y-2",children:[a.jsx(P,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1023",children:"Nome da Atividade"}),a.jsx(Q,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1024",value:i.atividadePersonalizada,onChange:e=>y({...i,atividadePersonalizada:e.target.value}),placeholder:"Ex: Curso de inglês"})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1030",className:"space-y-2",children:[a.jsx(P,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1031",children:"Cor"}),a.jsx(Q,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1032",type:"color",value:i.cor,onChange:e=>y({...i,cor:e.target.value}),className:"h-10 w-full"})]})]})]}),a.jsxs(V,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1043",children:[a.jsx(g,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1044",variant:"outline",onClick:()=>I(!1),children:"Cancelar"}),a.jsx(g,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1047",onClick:se,className:"bg-gradient-to-r from-emerald-500 to-teal-500",children:w?"Salvar":"Adicionar"})]})]})}),a.jsx(L,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1055",open:Va,onOpenChange:W,children:a.jsxs(_,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1056",className:"sm:max-w-[425px]",children:[a.jsxs(U,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1057",children:[a.jsx(B,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1058",children:"Configurar Sincronização"}),a.jsx(H,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1059",children:"As atividades do seu Cronograma Semanal de Lista serão replicadas automaticamente na agenda até a data definida."})]}),a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1064",className:"space-y-4 py-4",children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1065",className:"space-y-2",children:[a.jsx(P,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1066",children:"Data de Término da Sincronização"}),a.jsx(Q,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1067",type:"date",value:ca,onChange:e=>Sa(e.target.value),min:new Date().toISOString().split("T")[0]}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1073",className:"text-xs text-muted-foreground",children:"As atividades serão sincronizadas de hoje até esta data."})]})}),a.jsxs(V,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1079",children:[a.jsx(g,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1080",variant:"outline",onClick:()=>W(!1),children:"Cancelar"}),a.jsx(g,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1083",type:"button",onClick:te,className:"bg-gradient-to-r from-emerald-500 to-teal-500",children:"Continuar"})]})]})}),a.jsx(L,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1095",open:Qa,onOpenChange:X,children:a.jsxs(_,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1096",className:"sm:max-w-[425px]",children:[a.jsxs(U,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1097",children:[a.jsxs(B,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1098",className:"flex items-center gap-2",children:[a.jsx(me,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1099",className:"h-5 w-5 text-amber-500"}),"Confirmar Sincronização"]}),a.jsxs(H,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1102",children:["Você possui ",D.filter(e=>e.isManual).length," atividade(s) adicionada(s) manualmente na agenda."]})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1107",className:"space-y-4 py-4",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1108",className:"text-sm",children:"O que deseja fazer com as atividades manuais existentes?"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1112",className:"space-y-3",children:[a.jsxs("label",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1113",className:"flex items-start gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800",children:[a.jsx("input",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1114",type:"radio",name:"manterAtividades",checked:ta,onChange:()=>fa(!0),className:"mt-1"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1121",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1122",className:"font-medium",children:"Manter atividades manuais"}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1123",className:"text-sm text-muted-foreground",children:"As atividades que você adicionou manualmente serão mantidas junto com as sincronizadas."})]})]}),a.jsxs("label",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1129",className:"flex items-start gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800",children:[a.jsx("input",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1130",type:"radio",name:"manterAtividades",checked:!ta,onChange:()=>fa(!1),className:"mt-1"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1137",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1138",className:"font-medium",children:"Excluir atividades manuais"}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1139",className:"text-sm text-muted-foreground",children:"Apenas as atividades sincronizadas do cronograma semanal serão mantidas."})]})]})]})]}),a.jsxs(V,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1147",children:[a.jsx(g,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1148",variant:"outline",onClick:()=>X(!1),children:"Cancelar"}),a.jsx(g,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1151",onClick:oe,className:"bg-gradient-to-r from-emerald-500 to-teal-500",disabled:sa,children:sa?a.jsxs(a.Fragment,{children:[a.jsx(Ta,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1158",className:"h-4 w-4 mr-2 animate-spin"}),"Sincronizando..."]}):"Ativar Sincronização"})]})]})}),a.jsx(L,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1170",open:qa,onOpenChange:Z,children:a.jsxs(_,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1171",className:"sm:max-w-[425px]",children:[a.jsxs(U,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1172",children:[a.jsx(B,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1173",children:"Editar Atividade Sincronizada"}),a.jsx(H,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1174",children:"Esta atividade foi sincronizada do cronograma semanal. Como deseja editá-la?"})]}),a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1179",className:"space-y-4 py-4",children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1180",className:"space-y-3",children:[a.jsxs("label",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1181",className:"flex items-start gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800",children:[a.jsx("input",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1182",type:"radio",name:"editType",checked:ra==="single",onChange:()=>ja("single"),className:"mt-1"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1189",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1190",className:"font-medium",children:"Apenas este dia"}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1191",className:"text-sm text-muted-foreground",children:"A atividade será convertida para manual e editada apenas neste dia."})]})]}),a.jsxs("label",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1197",className:"flex items-start gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800",children:[a.jsx("input",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1198",type:"radio",name:"editType",checked:ra==="all",onChange:()=>ja("all"),className:"mt-1"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1205",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1206",className:"font-medium",children:"Todos os dias desta atividade"}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1207",className:"text-sm text-muted-foreground",children:"Você será direcionado para editar no cronograma semanal."})]})]})]})}),a.jsxs(V,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1215",children:[a.jsx(g,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1216",variant:"outline",onClick:()=>Z(!1),children:"Cancelar"}),a.jsx(g,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1219",onClick:ee,className:"bg-gradient-to-r from-emerald-500 to-teal-500",children:"Continuar"})]})]})}),a.jsx(L,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1227",open:Ga,onOpenChange:T,children:a.jsxs(_,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1228",className:"sm:max-w-[500px] max-h-[80vh] overflow-y-auto",children:[a.jsxs(U,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1229",children:[a.jsxs(B,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1230",className:"flex items-center gap-2",children:[a.jsx(Ra,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1231",className:"h-5 w-5 text-blue-500"}),"Atividades do Dia"]}),a.jsx(H,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1234",children:z&&new Date(z+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1244",className:"space-y-3 py-4",children:[z&&da(z).map(e=>a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1246",className:"flex items-center justify-between p-3 rounded-lg border hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",style:{borderLeft:`4px solid ${e.cor}`},children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1251",className:"flex items-center gap-3",children:[e.isManual?a.jsx(ua,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1253",className:"h-4 w-4 text-amber-500 flex-shrink-0"}):a.jsx(ea,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1255",className:"h-4 w-4 text-emerald-500 flex-shrink-0"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1257",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1258",className:"font-medium",style:{color:e.cor},children:Fa(e)}),a.jsxs("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1261",className:"text-sm text-muted-foreground flex items-center gap-1",children:[a.jsx(ze,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1262",className:"h-3 w-3"}),e.horaInicio," - ",e.horaFim]})]})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1267",className:"flex items-center gap-2",children:[a.jsx(g,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1268",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{T(!1),Ia(e)},children:a.jsx(ke,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1277",className:"h-4 w-4 text-blue-500"})}),a.jsx(g,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1279",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{Ma(e.id)},children:a.jsx(La,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1287",className:"h-4 w-4 text-red-500"})})]})]},e.id)),z&&da(z).length===0&&a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1294",className:"text-center text-muted-foreground py-4",children:"Nenhuma atividade neste dia."})]}),a.jsxs(V,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1300",children:[a.jsxs(g,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1301",variant:"outline",onClick:()=>{T(!1),ka(z)},className:"mr-auto",children:[a.jsx($a,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1309",className:"h-4 w-4 mr-2"}),"Adicionar Atividade"]}),a.jsx(g,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1312",onClick:()=>T(!1),children:"Fechar"})]})]})})]})}export{ls as default};
