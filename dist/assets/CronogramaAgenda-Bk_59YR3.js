import{c as ue,a0 as A,$ as z,j as a,C as da,b as ga,B as m,D as U,k as _,l as B,m as H,n as V,o as Q,a9 as xe}from"./index-DWLoGaDn.js";import{r}from"./vendor-recharts-CyIoRYya.js";import{I as J}from"./input-B0g2n2FB.js";import{L as T}from"./label-K6LD2YPz.js";import{S as pe,a as he,b as fe,c as Ae,d as Ce}from"./select-BgKLVq_2.js";import{S as ve}from"./switch-DraUHm-A.js";import{t as g}from"./vendor-ui-Cvn9ctBs.js";import{w as k,K as Pa,x as X,D as Oa,e as N,T as ma,h as je,j as ua,I as ye}from"./vendor-firebase-BLqY7lrF.js";import{a as Se}from"./MentorViewContext-BMKJBDFe.js";import{C as Ne,a as be,L as Z}from"./skeleton-loader-C1Oua_fA.js";import{a as Ta}from"./CronogramaWrapper-Z4dDcflK.js";import{L as $a}from"./loader-circle-C3lh21Uv.js";import{I as we}from"./info-CxPL1B2I.js";import{S as xa}from"./star-C62oEVrN.js";import{C as De}from"./chevron-left-XukQGQzH.js";import{C as ze}from"./chevron-right-BhBfTtB3.js";import{P as La}from"./plus-BLf43VOc.js";import{T as Ua}from"./trash-2-DhCm_0ab.js";import{C as ke}from"./clock-Bpq-9RxD.js";import{P as Ie}from"./pen-BFKHHQ9R.js";import"./vendor-react-YualkU3Z.js";import"./useComposition-iS-LvcVy.js";import"./index-BFXZKCFI.js";import"./index-ChHGvnL7.js";import"./check-DR8z7G4U.js";import"./calendar-DANHTMGn.js";import"./refresh-cw-uqzQDgsi.js";import"./zap-DPvx5-bZ.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=ue("Link2Off",[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Ee=["Matemática","Biologia","Física","Química","História","Geografia","Filosofia","Sociologia","Linguagens","Redação","Revisão","Simulado","Correção de simulado","Preenchimento de lacunas","Dormir","Atividade física","Igreja","Outra atividade"],pa={Matemática:"#3b82f6",Biologia:"#10b981",Física:"#f59e0b",Química:"#ef4444",História:"#8b5cf6",Geografia:"#ec4899",Filosofia:"#06b6d4",Sociologia:"#f97316",Linguagens:"#84cc16",Redação:"#14b8a6",Revisão:"#a855f7",Simulado:"#f43f5e","Correção de simulado":"#0ea5e9","Preenchimento de lacunas":"#eab308",Dormir:"#6366f1","Atividade física":"#22c55e",Igreja:"#d946ef","Outra atividade":"#94a3b8"},Fe=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],Re=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],_a=(l,h)=>{const F=h.atividade==="Outra atividade"?h.atividadePersonalizada||"outra":h.atividade;return`sync_${l}_${h.diaSemana}_${h.horaInicio.replace(":","")}_${F.replace(/\s+/g,"_")}`};function ds(){const l=Se(),[h,F]=r.useState(new Date().getMonth()),[q,ha]=r.useState(new Date().getFullYear()),[I,fa]=r.useState([]),[Ba,Aa]=r.useState([]),[Ha,Ca]=r.useState(!0),[aa,b]=r.useState(!1),[va,G]=r.useState("idle"),[p,ea]=r.useState({sincronizacaoAtiva:!1,dataFimSincronizacao:"",atividadesManuaisPreSincronizacao:[]}),[Va,R]=r.useState(!1),[Qa,K]=r.useState(!1),[Ja,Y]=r.useState(!1),[sa,ja]=r.useState(!0),[M,ya]=r.useState(null),[Sa,qa]=r.useState(""),[Ga,na]=r.useState(!1),[ta,Na]=r.useState("single"),[oa,ba]=r.useState(""),[Ka,$]=r.useState(!1),[E,Ya]=r.useState(""),[i,w]=r.useState({data:"",horaInicio:"08:00",horaFim:"09:00",atividade:"",atividadePersonalizada:"",cor:"#3b82f6",isManual:!0}),L=r.useRef(null),ra=r.useRef(!1),wa=r.useRef([]),Da=r.useRef(null),ca=r.useRef(!1);r.useEffect(()=>{wa.current=I},[I]),r.useEffect(()=>{Da.current=l},[l]),r.useEffect(()=>{if(!l)return;const e=k(A,"alunos",l,"agenda"),s=Pa(e,n=>{const t=n.docs.map(o=>({id:o.id,...o.data()}));fa(t)},n=>{});return()=>{s()}},[l]),r.useEffect(()=>l?((async()=>{Ca(!0),ra.current=!1;try{await Promise.all([Xa(),Za()])}finally{Ca(!1)}})(),()=>{L.current&&clearTimeout(L.current)}):void 0,[l]);const Wa=async()=>{try{const e=l||z.currentUser?.uid;if(!e)throw new Error("Usuário não autenticado");const s=k(A,"alunos",e,"agenda"),t=(await X(s)).docs.map(o=>({id:o.id,...o.data()}));fa(t)}catch{}},Xa=async()=>{try{const e=l||z.currentUser?.uid;if(!e)throw new Error("Usuário não autenticado");const s=k(A,"alunos",e,"cronograma_lista"),t=(await X(s)).docs.map(o=>({id:o.id,...o.data()}));Aa(t)}catch{}},Za=async()=>{try{const e=l||z.currentUser?.uid;if(!e)throw new Error("Usuário não autenticado");const s=N(A,"alunos",e,"agenda_config","config"),n=await je(s);n.exists()&&ea(n.data())}catch{}},za=async e=>{try{const s=l||z.currentUser?.uid;if(!s)throw new Error("Usuário não autenticado");const n=N(A,"alunos",s,"agenda_config","config");await ua(n,e),ea(e)}catch(s){throw s}},ia=async e=>{try{const s=l||z.currentUser?.uid;if(!s)throw new Error("Usuário não autenticado");const n=k(A,"alunos",s,"agenda"),t=await X(n),o=Oa(A);t.docs.forEach(u=>{o.delete(u.ref)}),e.forEach(u=>{const{id:x,...C}=u,D=N(n);o.set(D,{...C,createdAt:ma.now()})}),await o.commit(),await Wa()}catch(s){throw s}};r.useCallback(()=>{ra.current=!0,G("saving"),L.current&&clearTimeout(L.current),L.current=setTimeout(async()=>{if(Da.current)try{await ia(wa.current),ra.current=!1,G("saved"),setTimeout(()=>{G("idle")},2e3)}catch{G("error"),g.error("Erro ao salvar. Tente novamente.")}},1500)},[]);const ka=r.useCallback(async(e,s)=>{if(!(!s.sincronizacaoAtiva||!s.dataFimSincronizacao)&&!ca.current){ca.current=!0;try{const n=l||z.currentUser?.uid;if(!n)return;const t=k(A,"alunos",n,"agenda"),u=(await X(t)).docs.map(d=>({id:d.id,...d.data()})),x=u.filter(d=>d.isManual),C=u.filter(d=>!d.isManual),D=new Map,c=new Date(s.dataFimSincronizacao),v=new Date;v.setHours(0,0,0,0);let j=new Date(v);for(;j<=c;){const d=j.getDay(),y=j.toISOString().split("T")[0];e.filter(f=>f.diaSemana===d).forEach(f=>{const O=_a(y,f);D.set(O,{id:O,data:y,horaInicio:f.horaInicio,horaFim:f.horaFim,atividade:f.atividade,atividadePersonalizada:f.atividadePersonalizada,cor:f.cor,isManual:!1})}),j.setDate(j.getDate()+1)}const P=Oa(A);let W=0;const de=new Set(D.keys());C.forEach(d=>{if(!de.has(d.id)){const y=N(t,d.id);P.delete(y),W++}});const ge=new Set(C.map(d=>d.id));D.forEach((d,y)=>{if(ge.has(y)){const S=C.find(f=>f.id===y);if(S&&(S.horaInicio!==d.horaInicio||S.horaFim!==d.horaFim||S.atividade!==d.atividade||S.atividadePersonalizada!==d.atividadePersonalizada||S.cor!==d.cor)){const O=N(t,y),{id:Pe,...me}=d;P.update(O,me),W++}}else{const S=N(t,y),{id:f,...O}=d;P.set(S,{...O,createdAt:ma.now()}),W++}}),W>0&&await P.commit()}catch{}finally{ca.current=!1}}},[l]);r.useEffect(()=>{if(!l||!p.sincronizacaoAtiva)return;const s=k(A,"alunos",l,"cronograma_lista"),n=Pa(s,t=>{const o=t.docs.map(u=>({id:u.id,...u.data()}));Aa(o),ka(o,p)},t=>{});return()=>{n()}},[l,p.sincronizacaoAtiva,p.dataFimSincronizacao,ka]);const ae=(e,s)=>{const n=new Date(s,e,1),o=new Date(s,e+1,0).getDate(),u=n.getDay(),x=[],C=new Date(s,e,0).getDate();for(let c=u-1;c>=0;c--){const v=C-c,j=e===0?11:e-1,P=e===0?s-1:s;x.push({data:`${P}-${String(j+1).padStart(2,"0")}-${String(v).padStart(2,"0")}`,dia:v,isCurrentMonth:!1})}for(let c=1;c<=o;c++)x.push({data:`${s}-${String(e+1).padStart(2,"0")}-${String(c).padStart(2,"0")}`,dia:c,isCurrentMonth:!0});const D=42-x.length;for(let c=1;c<=D;c++){const v=e===11?0:e+1,j=e===11?s+1:s;x.push({data:`${j}-${String(v+1).padStart(2,"0")}-${String(c).padStart(2,"0")}`,dia:c,isCurrentMonth:!1})}return x},ee=()=>{h===0?(F(11),ha(q-1)):F(h-1)},se=()=>{h===11?(F(0),ha(q+1)):F(h+1)},la=e=>I.filter(s=>s.data===e).sort((s,n)=>s.horaInicio.localeCompare(n.horaInicio)),Ia=e=>{qa(e),ya(null),w({data:e,horaInicio:"08:00",horaFim:"09:00",atividade:"",atividadePersonalizada:"",cor:"#3b82f6",isManual:!0}),R(!0)},Ma=e=>{if(!e.isManual){g.error("Esta atividade está sincronizada com o cronograma semanal e não pode ser editada diretamente. Para editá-la, vá para o cronograma semanal na aba 'Semanal'.",{duration:6e3});return}ya(e),w({...e,atividadePersonalizada:e.atividadePersonalizada||""}),R(!0)},ne=()=>{M&&(na(!1),ta==="single"?(w({...M,atividadePersonalizada:M.atividadePersonalizada||"",isManual:!0}),R(!0)):g.info("Para editar todas as ocorrências, vá para a aba 'Semanal > Lista' e edite a atividade lá."))},te=async()=>{if(!i.atividade){g.error("Selecione uma atividade");return}if(i.atividade==="Outra atividade"&&!i.atividadePersonalizada?.trim()){g.error("Informe o nome da atividade personalizada");return}if(i.horaInicio>=i.horaFim){g.error("O horário de início deve ser anterior ao horário de fim");return}const e=i.atividade==="Outra atividade"?i.cor:pa[i.atividade]||i.cor,s={...i,cor:e,isManual:!0};R(!1),b(!0);try{const n=l||z.currentUser?.uid;if(!n)throw new Error("Usuário não autenticado");const t=k(A,"alunos",n,"agenda");if(M){const o=N(t,M.id),{id:u,...x}=s;await ua(o,x,{merge:!0}),g.success("Atividade atualizada!")}else{const o=N(t),{id:u,...x}=s;await ua(o,{...x,createdAt:ma.now()}),g.success("Atividade adicionada!")}}catch{g.error("Erro ao salvar atividade. Tente novamente.")}finally{b(!1)}},Ea=async e=>{const s=I.find(n=>n.id===e);if(s&&!s.isManual){g.error("Esta atividade está sincronizada com o cronograma semanal e não pode ser excluída diretamente. Para removê-la, edite o cronograma semanal na aba 'Semanal'.",{duration:6e3});return}b(!0);try{const n=l||z.currentUser?.uid;if(!n)throw new Error("Usuário não autenticado");const t=k(A,"alunos",n,"agenda"),o=N(t,e);await ye(o),g.success("Atividade removida!")}catch{g.error("Erro ao remover atividade. Tente novamente.")}finally{b(!1)}},oe=()=>{p.sincronizacaoAtiva?ie():(ba(""),K(!0))},re=()=>{if(!oa){g.error("Defina a data de término da sincronização");return}ea(e=>({...e,dataFimSincronizacao:oa})),K(!1),Y(!0)},ce=async()=>{try{b(!0);const e=I.filter(x=>x.isManual),s=[];sa&&s.push(...e);const n=new Date(p.dataFimSincronizacao),t=new Date;t.setHours(0,0,0,0);let o=new Date(t);for(;o<=n;){const x=o.getDay(),C=o.toISOString().split("T")[0];Ba.filter(c=>c.diaSemana===x).forEach(c=>{const v=_a(C,c);s.push({id:v,data:C,horaInicio:c.horaInicio,horaFim:c.horaFim,atividade:c.atividade,atividadePersonalizada:c.atividadePersonalizada,cor:c.cor,isManual:!1})}),o.setDate(o.getDate()+1)}const u={sincronizacaoAtiva:!0,dataFimSincronizacao:p.dataFimSincronizacao,atividadesManuaisPreSincronizacao:e};await za(u),await ia(s),Y(!1),g.success("Sincronização ativada com sucesso!")}catch{g.error("Erro ao ativar sincronização")}finally{b(!1)}},ie=async()=>{try{b(!0);const e=I.filter(n=>n.isManual);await za({sincronizacaoAtiva:!1,dataFimSincronizacao:"",atividadesManuaisPreSincronizacao:[]}),await ia(e),g.success("Sincronização desativada! Atividades manuais mantidas.")}catch{g.error("Erro ao desativar sincronização")}finally{b(!1)}},Fa=e=>e.atividade==="Outra atividade"&&e.atividadePersonalizada?e.atividadePersonalizada:e.atividade,Ra=e=>{const s=new Date().toISOString().split("T")[0];return e===s};if(Ha)return a.jsx(Ne,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:823"});const le=ae(h,q);return a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:829",className:"space-y-6",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:831",className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:832",className:"flex items-center gap-3",children:[a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:833",className:"p-3 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-500 shadow-lg",children:a.jsx(Ta,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:834",className:"h-6 w-6 text-white"})}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:836",children:[a.jsx("h2",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:837",className:"text-xl font-bold",children:"Agenda Mensal"}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:838",className:"text-sm text-muted-foreground",children:"Visualize e organize suas atividades do mês"})]})]}),a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:842",className:"flex items-center gap-3",children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:844",className:"flex items-center gap-2 text-sm",children:[va==="saving"&&a.jsxs(a.Fragment,{children:[a.jsx($a,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:847",className:"h-4 w-4 animate-spin text-blue-500"}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:848",className:"text-blue-500",children:"Salvando..."})]}),va==="saved"&&a.jsxs(a.Fragment,{children:[a.jsx(be,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:853",className:"h-4 w-4 text-green-500"}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:854",className:"text-green-500",children:"Salvo!"})]})]})})]}),a.jsx(da,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:862",className:`border-2 ${p.sincronizacaoAtiva?"border-emerald-400 bg-emerald-50 dark:bg-emerald-950/20":"border-gray-200"}`,children:a.jsx(ga,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:863",className:"py-4 px-5",children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:864",className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:865",className:"flex items-center gap-3",children:[p.sincronizacaoAtiva?a.jsx(Z,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:867",className:"h-5 w-5 text-emerald-600"}):a.jsx(Me,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:869",className:"h-5 w-5 text-gray-400"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:871",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:872",className:"font-medium",children:"Sincronização com Cronograma Semanal de Lista"}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:875",className:"text-sm text-muted-foreground",children:p.sincronizacaoAtiva?`Ativo até ${new Date(p.dataFimSincronizacao+"T00:00:00").toLocaleDateString("pt-BR")}`:"Desativado - As atividades do cronograma semanal não serão replicadas automaticamente"})]})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:884",className:"flex items-center gap-3",children:[a.jsx(ve,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:885",checked:p.sincronizacaoAtiva,onCheckedChange:oe,disabled:aa}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:890",className:"text-sm font-medium",children:p.sincronizacaoAtiva?"Ativado":"Desativado"})]})]})})}),a.jsx(da,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:899",className:"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-950/30 dark:to-cyan-950/30 border-blue-200 dark:border-blue-800",children:a.jsx(ga,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:900",className:"py-3 px-4",children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:901",className:"flex flex-wrap items-center gap-4",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:902",className:"flex items-center gap-2",children:[a.jsx(we,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:903",className:"h-5 w-5 text-blue-500 flex-shrink-0"}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:904",className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"Legenda:"})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:906",className:"flex items-center gap-2",children:[a.jsx(xa,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:907",className:"h-4 w-4 text-amber-500"}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:908",className:"text-sm text-blue-700 dark:text-blue-300",children:"Atividade manual"})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:910",className:"flex items-center gap-2",children:[a.jsx(Z,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:911",className:"h-4 w-4 text-emerald-500"}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:912",className:"text-sm text-blue-700 dark:text-blue-300",children:"Atividade sincronizada"})]})]})})}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:919",className:"flex items-center justify-between",children:[a.jsx(m,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:920",variant:"outline",size:"icon",onClick:ee,children:a.jsx(De,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:921",className:"h-5 w-5"})}),a.jsxs("h3",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:923",className:"text-xl font-bold",children:[Fe[h]," ",q]}),a.jsx(m,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:926",variant:"outline",size:"icon",onClick:se,children:a.jsx(ze,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:927",className:"h-5 w-5"})})]}),a.jsx(da,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:932",className:"overflow-hidden",children:a.jsxs(ga,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:933",className:"p-0",children:[a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:935",className:"grid grid-cols-7 border-b bg-gray-50 dark:bg-gray-800",children:Re.map(e=>a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:937",className:"p-2 text-center text-sm font-semibold text-gray-600 dark:text-gray-300",children:e},e))}),a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:944",className:"grid grid-cols-7",children:le.map((e,s)=>{const n=la(e.data);return n.length>0,a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:950",className:`
                    min-h-[100px] sm:min-h-[120px] p-1 sm:p-2 border-b border-r
                    ${e.isCurrentMonth?"":"bg-gray-50 dark:bg-gray-900/50"}
                    ${Ra(e.data)?"bg-blue-50 dark:bg-blue-950/30":""}
                  `,children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:958",className:"flex items-center justify-between mb-1",children:[a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:959",className:`
                      text-sm font-medium
                      ${e.isCurrentMonth?"":"text-gray-400"}
                      ${Ra(e.data)?"bg-blue-500 text-white px-2 py-0.5 rounded-full":""}
                    `,children:e.dia}),e.isCurrentMonth&&a.jsx(m,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:967",variant:"ghost",size:"icon",className:"h-6 w-6 opacity-50 hover:opacity-100",onClick:()=>Ia(e.data),children:a.jsx(La,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:973",className:"h-3 w-3"})})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:979",className:"space-y-1 max-h-[80px] overflow-y-auto",children:[n.slice(0,3).map(t=>a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:981",className:"group relative flex items-center gap-1 px-1.5 py-0.5 rounded text-xs cursor-pointer hover:opacity-80",style:{backgroundColor:`${t.cor}20`,borderLeft:`3px solid ${t.cor}`},onClick:()=>Ma(t),children:[t.isManual?a.jsx(xa,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:988",className:"h-2.5 w-2.5 text-amber-500 flex-shrink-0"}):a.jsx(Z,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:990",className:"h-2.5 w-2.5 text-emerald-500 flex-shrink-0"}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:992",className:"truncate",style:{color:t.cor},children:Fa(t)}),a.jsx(m,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:995",variant:"ghost",size:"icon",className:"h-4 w-4 opacity-0 group-hover:opacity-100 absolute right-0 top-0",onClick:o=>{o.stopPropagation(),Ea(t.id)},children:a.jsx(Ua,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1004",className:"h-2.5 w-2.5 text-red-500"})})]},t.id)),n.length>3&&a.jsxs("button",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1009",className:"text-xs text-blue-600 hover:text-blue-800 hover:underline px-1 cursor-pointer font-medium",onClick:t=>{t.stopPropagation(),Ya(e.data),$(!0)},children:["+",n.length-3," mais"]})]})]},s)})})]})}),a.jsx(U,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1029",open:Va,onOpenChange:R,children:a.jsxs(_,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1030",className:"sm:max-w-[425px]",children:[a.jsxs(B,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1031",children:[a.jsx(H,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1032",children:M?"Editar Atividade":"Nova Atividade"}),a.jsx(V,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1035",children:Sa&&`Data: ${new Date(Sa+"T00:00:00").toLocaleDateString("pt-BR")}`})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1040",className:"space-y-4 py-4",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1042",className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1043",className:"space-y-2",children:[a.jsx(T,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1044",children:"Horário Início"}),a.jsx(J,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1045",type:"time",value:i.horaInicio,onChange:e=>w({...i,horaInicio:e.target.value})})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1051",className:"space-y-2",children:[a.jsx(T,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1052",children:"Horário Fim"}),a.jsx(J,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1053",type:"time",value:i.horaFim,onChange:e=>w({...i,horaFim:e.target.value})})]})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1062",className:"space-y-2",children:[a.jsx(T,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1063",children:"Atividade"}),a.jsxs(pe,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1064",value:i.atividade,onValueChange:e=>w({...i,atividade:e,cor:pa[e]||i.cor}),children:[a.jsx(he,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1072",children:a.jsx(fe,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1073",placeholder:"Selecione a atividade"})}),a.jsx(Ae,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1075",children:Ee.map(e=>a.jsx(Ce,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1077",value:e,children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1078",className:"flex items-center gap-2",children:[a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1079",className:"w-3 h-3 rounded-full",style:{backgroundColor:pa[e]||"#94a3b8"}}),e]})},e))})]})]}),i.atividade==="Outra atividade"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1094",className:"space-y-2",children:[a.jsx(T,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1095",children:"Nome da Atividade"}),a.jsx(J,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1096",value:i.atividadePersonalizada,onChange:e=>w({...i,atividadePersonalizada:e.target.value}),placeholder:"Ex: Curso de inglês"})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1102",className:"space-y-2",children:[a.jsx(T,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1103",children:"Cor"}),a.jsx(J,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1104",type:"color",value:i.cor,onChange:e=>w({...i,cor:e.target.value}),className:"h-10 w-full"})]})]})]}),a.jsxs(Q,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1115",children:[a.jsx(m,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1116",variant:"outline",onClick:()=>R(!1),children:"Cancelar"}),a.jsx(m,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1119",onClick:te,className:"bg-gradient-to-r from-emerald-500 to-teal-500",children:M?"Salvar":"Adicionar"})]})]})}),a.jsx(U,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1127",open:Qa,onOpenChange:K,children:a.jsxs(_,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1128",className:"sm:max-w-[425px]",children:[a.jsxs(B,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1129",children:[a.jsx(H,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1130",children:"Configurar Sincronização"}),a.jsx(V,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1131",children:"As atividades do seu Cronograma Semanal de Lista serão replicadas automaticamente na agenda até a data definida."})]}),a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1136",className:"space-y-4 py-4",children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1137",className:"space-y-2",children:[a.jsx(T,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1138",children:"Data de Término da Sincronização"}),a.jsx(J,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1139",type:"date",value:oa,onChange:e=>ba(e.target.value),min:new Date().toISOString().split("T")[0]}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1145",className:"text-xs text-muted-foreground",children:"As atividades serão sincronizadas de hoje até esta data."})]})}),a.jsxs(Q,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1151",children:[a.jsx(m,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1152",variant:"outline",onClick:()=>K(!1),children:"Cancelar"}),a.jsx(m,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1155",type:"button",onClick:re,className:"bg-gradient-to-r from-emerald-500 to-teal-500",children:"Continuar"})]})]})}),a.jsx(U,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1167",open:Ja,onOpenChange:Y,children:a.jsxs(_,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1168",className:"sm:max-w-[425px]",children:[a.jsxs(B,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1169",children:[a.jsxs(H,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1170",className:"flex items-center gap-2",children:[a.jsx(xe,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1171",className:"h-5 w-5 text-amber-500"}),"Confirmar Sincronização"]}),a.jsxs(V,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1174",children:["Você possui ",I.filter(e=>e.isManual).length," atividade(s) adicionada(s) manualmente na agenda."]})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1179",className:"space-y-4 py-4",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1180",className:"text-sm",children:"O que deseja fazer com as atividades manuais existentes?"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1184",className:"space-y-3",children:[a.jsxs("label",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1185",className:"flex items-start gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800",children:[a.jsx("input",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1186",type:"radio",name:"manterAtividades",checked:sa,onChange:()=>ja(!0),className:"mt-1"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1193",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1194",className:"font-medium",children:"Manter atividades manuais"}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1195",className:"text-sm text-muted-foreground",children:"As atividades que você adicionou manualmente serão mantidas junto com as sincronizadas."})]})]}),a.jsxs("label",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1201",className:"flex items-start gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800",children:[a.jsx("input",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1202",type:"radio",name:"manterAtividades",checked:!sa,onChange:()=>ja(!1),className:"mt-1"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1209",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1210",className:"font-medium",children:"Excluir atividades manuais"}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1211",className:"text-sm text-muted-foreground",children:"Apenas as atividades sincronizadas do cronograma semanal serão mantidas."})]})]})]})]}),a.jsxs(Q,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1219",children:[a.jsx(m,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1220",variant:"outline",onClick:()=>Y(!1),children:"Cancelar"}),a.jsx(m,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1223",onClick:ce,className:"bg-gradient-to-r from-emerald-500 to-teal-500",disabled:aa,children:aa?a.jsxs(a.Fragment,{children:[a.jsx($a,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1230",className:"h-4 w-4 mr-2 animate-spin"}),"Sincronizando..."]}):"Ativar Sincronização"})]})]})}),a.jsx(U,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1242",open:Ga,onOpenChange:na,children:a.jsxs(_,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1243",className:"sm:max-w-[425px]",children:[a.jsxs(B,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1244",children:[a.jsx(H,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1245",children:"Editar Atividade Sincronizada"}),a.jsx(V,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1246",children:"Esta atividade foi sincronizada do cronograma semanal. Como deseja editá-la?"})]}),a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1251",className:"space-y-4 py-4",children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1252",className:"space-y-3",children:[a.jsxs("label",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1253",className:"flex items-start gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800",children:[a.jsx("input",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1254",type:"radio",name:"editType",checked:ta==="single",onChange:()=>Na("single"),className:"mt-1"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1261",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1262",className:"font-medium",children:"Apenas este dia"}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1263",className:"text-sm text-muted-foreground",children:"A atividade será convertida para manual e editada apenas neste dia."})]})]}),a.jsxs("label",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1269",className:"flex items-start gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800",children:[a.jsx("input",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1270",type:"radio",name:"editType",checked:ta==="all",onChange:()=>Na("all"),className:"mt-1"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1277",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1278",className:"font-medium",children:"Todos os dias desta atividade"}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1279",className:"text-sm text-muted-foreground",children:"Você será direcionado para editar no cronograma semanal."})]})]})]})}),a.jsxs(Q,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1287",children:[a.jsx(m,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1288",variant:"outline",onClick:()=>na(!1),children:"Cancelar"}),a.jsx(m,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1291",onClick:ne,className:"bg-gradient-to-r from-emerald-500 to-teal-500",children:"Continuar"})]})]})}),a.jsx(U,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1299",open:Ka,onOpenChange:$,children:a.jsxs(_,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1300",className:"sm:max-w-[500px] max-h-[80vh] overflow-y-auto",children:[a.jsxs(B,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1301",children:[a.jsxs(H,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1302",className:"flex items-center gap-2",children:[a.jsx(Ta,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1303",className:"h-5 w-5 text-blue-500"}),"Atividades do Dia"]}),a.jsx(V,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1306",children:E&&new Date(E+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1316",className:"space-y-3 py-4",children:[E&&la(E).map(e=>a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1318",className:"flex items-center justify-between p-3 rounded-lg border hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",style:{borderLeft:`4px solid ${e.cor}`},children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1323",className:"flex items-center gap-3",children:[e.isManual?a.jsx(xa,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1325",className:"h-4 w-4 text-amber-500 flex-shrink-0"}):a.jsx(Z,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1327",className:"h-4 w-4 text-emerald-500 flex-shrink-0"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1329",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1330",className:"font-medium",style:{color:e.cor},children:Fa(e)}),a.jsxs("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1333",className:"text-sm text-muted-foreground flex items-center gap-1",children:[a.jsx(ke,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1334",className:"h-3 w-3"}),e.horaInicio," - ",e.horaFim]})]})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1339",className:"flex items-center gap-2",children:[a.jsx(m,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1340",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{$(!1),Ma(e)},children:a.jsx(Ie,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1349",className:"h-4 w-4 text-blue-500"})}),a.jsx(m,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1351",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{Ea(e.id)},children:a.jsx(Ua,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1359",className:"h-4 w-4 text-red-500"})})]})]},e.id)),E&&la(E).length===0&&a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1366",className:"text-center text-muted-foreground py-4",children:"Nenhuma atividade neste dia."})]}),a.jsxs(Q,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1372",children:[a.jsxs(m,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1373",variant:"outline",onClick:()=>{$(!1),Ia(E)},className:"mr-auto",children:[a.jsx(La,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1381",className:"h-4 w-4 mr-2"}),"Adicionar Atividade"]}),a.jsx(m,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1384",onClick:()=>$(!1),children:"Fechar"})]})]})})]})}export{ds as default};
