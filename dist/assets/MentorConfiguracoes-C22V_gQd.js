import{c as k,u as P,j as e,C as x,f as p,g as h,h as f,b as N,q as L,T as F,B as y}from"./index-CK7Kb1YL.js";import{r as i}from"./vendor-recharts-DGENtP1g.js";import{m as b}from"./api-CmWKNKbc.js";import{I as r}from"./input-BR2gHvlr.js";import{L as o}from"./label-DtKIYeuv.js";import{t as c}from"./vendor-ui-Dwsdq65V.js";import{S}from"./switch-N_mPR7yX.js";import{T as U}from"./trending-down-DC4bHp8A.js";import{U as T}from"./user-BJWgD58W.js";import{B}from"./building-BWkl1a16.js";import{I as R}from"./image-ZrjPUuEI.js";import{P as z}from"./palette-CuAbhWab.js";import{L as Q}from"./lock-suLwPgWm.js";import"./vendor-react-BLxlFB_W.js";import"./vendor-firebase-DcZa5tA2.js";import"./useComposition-JJU1F6nw.js";import"./index-D2x4P4hR.js";const w=k("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);function H(){const{user:g}=P(),[M,v]=i.useState(!0),[d,u]=i.useState(!1),[s,l]=i.useState({inatividade:{ativo:!0,diasSemEstudo:3},quedaDesempenho:{ativo:!0,percentualQueda:10},metasNaoAtingidas:{ativo:!0,diasConsecutivos:2}});i.useEffect(()=>{C()},[g]);const C=async()=>{if(g)try{v(!0);const a=await fetch(`/api/mentor/alertas/${g.uid}`);if(a.ok){const m=await a.json();m&&l(m)}}catch{}finally{v(!1)}},j=async()=>{if(g)try{if(u(!0),!(await fetch(`/api/mentor/alertas/${g.uid}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok)throw new Error("Erro ao salvar configurações");c.success("Configurações de alertas salvas com sucesso!")}catch(a){c.error(a.message||"Erro ao salvar configurações")}finally{u(!1)}};return M?e.jsx(x,{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:97",children:e.jsxs(p,{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:98",children:[e.jsxs(h,{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:99",className:"flex items-center gap-2",children:[e.jsx(w,{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:100",className:"h-5 w-5"}),"Alertas Inteligentes"]}),e.jsx(f,{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:103",children:"Carregando configurações..."})]})}):e.jsxs(x,{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:110",children:[e.jsxs(p,{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:111",children:[e.jsxs(h,{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:112",className:"flex items-center gap-2",children:[e.jsx(w,{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:113",className:"h-5 w-5"}),"Alertas Inteligentes"]}),e.jsx(f,{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:116",children:"Configure alertas personalizados para acompanhar seus alunos"})]}),e.jsxs(N,{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:120",className:"space-y-6",children:[e.jsxs("div",{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:122",className:"space-y-3 p-4 border rounded-lg",children:[e.jsxs("div",{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:123",className:"flex items-center justify-between",children:[e.jsxs("div",{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:124",className:"flex items-center gap-2",children:[e.jsx(L,{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:125",className:"h-4 w-4 text-orange-600"}),e.jsx(o,{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:126",htmlFor:"inatividade-ativo",className:"text-base font-semibold",children:"Alerta de Inatividade"})]}),e.jsx(S,{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:130",id:"inatividade-ativo",checked:s.inatividade.ativo,onCheckedChange:a=>l({...s,inatividade:{...s.inatividade,ativo:a}})})]}),e.jsx("p",{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:141",className:"text-sm text-muted-foreground",children:"Receba alertas quando um aluno ficar sem estudar por um período"}),s.inatividade.ativo&&e.jsxs("div",{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:145",className:"space-y-2",children:[e.jsx(o,{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:146",htmlFor:"dias-sem-estudo",children:"Dias sem estudo para alerta"}),e.jsx(r,{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:149",id:"dias-sem-estudo",type:"number",min:"1",max:"30",value:s.inatividade.diasSemEstudo,onChange:a=>l({...s,inatividade:{...s.inatividade,diasSemEstudo:parseInt(a.target.value)||3}})})]})]}),e.jsxs("div",{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:170",className:"space-y-3 p-4 border rounded-lg",children:[e.jsxs("div",{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:171",className:"flex items-center justify-between",children:[e.jsxs("div",{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:172",className:"flex items-center gap-2",children:[e.jsx(U,{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:173",className:"h-4 w-4 text-red-600"}),e.jsx(o,{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:174",htmlFor:"queda-ativo",className:"text-base font-semibold",children:"Alerta de Queda de Desempenho"})]}),e.jsx(S,{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:178",id:"queda-ativo",checked:s.quedaDesempenho.ativo,onCheckedChange:a=>l({...s,quedaDesempenho:{...s.quedaDesempenho,ativo:a}})})]}),e.jsx("p",{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:189",className:"text-sm text-muted-foreground",children:"Receba alertas quando o desempenho de um aluno cair significativamente"}),s.quedaDesempenho.ativo&&e.jsxs("div",{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:193",className:"space-y-2",children:[e.jsx(o,{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:194",htmlFor:"percentual-queda",children:"Percentual de queda para alerta (%)"}),e.jsx(r,{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:197",id:"percentual-queda",type:"number",min:"1",max:"100",value:s.quedaDesempenho.percentualQueda,onChange:a=>l({...s,quedaDesempenho:{...s.quedaDesempenho,percentualQueda:parseInt(a.target.value)||10}})})]})]}),e.jsxs("div",{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:218",className:"space-y-3 p-4 border rounded-lg",children:[e.jsxs("div",{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:219",className:"flex items-center justify-between",children:[e.jsxs("div",{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:220",className:"flex items-center gap-2",children:[e.jsx(F,{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:221",className:"h-4 w-4 text-blue-600"}),e.jsx(o,{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:222",htmlFor:"metas-ativo",className:"text-base font-semibold",children:"Alerta de Metas Não Atingidas"})]}),e.jsx(S,{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:226",id:"metas-ativo",checked:s.metasNaoAtingidas.ativo,onCheckedChange:a=>l({...s,metasNaoAtingidas:{...s.metasNaoAtingidas,ativo:a}})})]}),e.jsx("p",{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:237",className:"text-sm text-muted-foreground",children:"Receba alertas quando um aluno não atingir suas metas de estudo"}),s.metasNaoAtingidas.ativo&&e.jsxs("div",{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:241",className:"space-y-2",children:[e.jsx(o,{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:242",htmlFor:"dias-consecutivos",children:"Dias consecutivos sem atingir meta"}),e.jsx(r,{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:245",id:"dias-consecutivos",type:"number",min:"1",max:"30",value:s.metasNaoAtingidas.diasConsecutivos,onChange:a=>l({...s,metasNaoAtingidas:{...s.metasNaoAtingidas,diasConsecutivos:parseInt(a.target.value)||2}})})]})]}),e.jsx(y,{"data-loc":"client/src/components/mentor/AlertasInteligentes.tsx:265",onClick:j,disabled:d,className:"w-full",children:d?"Salvando...":"Salvar Configurações"})]})]})}function re(){const{user:g,userData:M,changePassword:v}=P(),[d,u]=i.useState(!0),[s,l]=i.useState(!1),[C,j]=i.useState(!1),[a,m]=i.useState({nomePlataforma:"",logoUrl:"",corPrincipal:"#3b82f6"}),[n,A]=i.useState({senhaAtual:"",novaSenha:"",confirmarSenha:""});i.useEffect(()=>{D()},[]);const D=async()=>{try{u(!0);const t=await b.getConfig();m({nomePlataforma:t.nomePlataforma||"",logoUrl:t.logoUrl||"",corPrincipal:t.corPrincipal||"#3b82f6"})}catch(t){c.error(t.message||"Erro ao carregar configurações")}finally{u(!1)}},q=async t=>{if(t.preventDefault(),!a.nomePlataforma){c.error("Nome da plataforma é obrigatório");return}try{l(!0),await b.updateConfig(a),c.success("Configurações atualizadas com sucesso!")}catch(I){c.error(I.message||"Erro ao salvar configurações")}finally{l(!1)}},E=async t=>{if(t.preventDefault(),!n.senhaAtual||!n.novaSenha||!n.confirmarSenha){c.error("Preencha todos os campos de senha");return}if(n.novaSenha.length<6){c.error("A senha deve ter no mínimo 6 caracteres");return}if(n.novaSenha!==n.confirmarSenha){c.error("As senhas não coincidem");return}try{j(!0),await v(n.senhaAtual,n.novaSenha),c.success("Senha alterada com sucesso!"),A({senhaAtual:"",novaSenha:"",confirmarSenha:""})}catch(I){c.error(I.message||"Erro ao alterar senha")}finally{j(!1)}};return e.jsxs("div",{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:100",className:"container mx-auto p-6 max-w-4xl",children:[e.jsxs("div",{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:101",className:"mb-6",children:[e.jsx("h1",{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:102",className:"text-3xl font-bold tracking-tight",children:"Configurações"}),e.jsx("p",{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:103",className:"text-muted-foreground",children:"Gerencie suas informações e preferências"})]}),e.jsxs("div",{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:108",className:"space-y-6",children:[e.jsxs(x,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:110",children:[e.jsxs(p,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:111",children:[e.jsxs(h,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:112",className:"flex items-center gap-2",children:[e.jsx(T,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:113",className:"h-5 w-5"}),"Informações do Perfil"]}),e.jsx(f,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:116",children:"Suas informações pessoais"})]}),e.jsxs(N,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:120",className:"space-y-4",children:[e.jsxs("div",{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:121",className:"space-y-2",children:[e.jsx(o,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:122",children:"Nome"}),e.jsx(r,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:123",value:M?.name||"",disabled:!0})]}),e.jsxs("div",{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:125",className:"space-y-2",children:[e.jsx(o,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:126",children:"Email"}),e.jsx(r,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:127",value:g?.email||"",disabled:!0})]}),e.jsx("p",{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:129",className:"text-xs text-muted-foreground",children:"Entre em contato com o gestor para alterar essas informações"})]})]}),e.jsxs(x,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:136",children:[e.jsxs(p,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:137",children:[e.jsxs(h,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:138",className:"flex items-center gap-2",children:[e.jsx(B,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:139",className:"h-5 w-5"}),"Configurações da Plataforma"]}),e.jsx(f,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:142",children:"Personalize a aparência da plataforma para seus alunos"})]}),e.jsx(N,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:146",children:e.jsxs("form",{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:147",onSubmit:q,className:"space-y-4",children:[e.jsxs("div",{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:148",className:"space-y-2",children:[e.jsx(o,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:149",htmlFor:"nomePlataforma",children:"Nome da Plataforma *"}),e.jsx(r,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:150",id:"nomePlataforma",value:a.nomePlataforma,onChange:t=>m({...a,nomePlataforma:t.target.value}),placeholder:"Mentoria ENEM Pro",required:!0,disabled:d})]}),e.jsxs("div",{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:162",className:"space-y-2",children:[e.jsx(o,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:163",htmlFor:"logoUrl",children:e.jsxs("span",{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:164",className:"flex items-center gap-2",children:[e.jsx(R,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:165",className:"h-4 w-4"}),"URL do Logo"]})}),e.jsx(r,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:169",id:"logoUrl",type:"url",value:a.logoUrl,onChange:t=>m({...a,logoUrl:t.target.value}),placeholder:"https://exemplo.com/logo.png",disabled:d})]}),e.jsxs("div",{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:181",className:"space-y-2",children:[e.jsx(o,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:182",htmlFor:"corPrincipal",children:e.jsxs("span",{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:183",className:"flex items-center gap-2",children:[e.jsx(z,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:184",className:"h-4 w-4"}),"Cor Principal"]})}),e.jsxs("div",{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:188",className:"flex gap-2",children:[e.jsx(r,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:189",id:"corPrincipal",type:"color",value:a.corPrincipal,onChange:t=>m({...a,corPrincipal:t.target.value}),className:"w-20 h-10",disabled:d}),e.jsx(r,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:199",type:"text",value:a.corPrincipal,onChange:t=>m({...a,corPrincipal:t.target.value}),placeholder:"#3b82f6",className:"flex-1 font-mono",disabled:d})]})]}),e.jsx(y,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:212",type:"submit",disabled:s||d,children:s?"Salvando...":"Salvar Configurações"})]})})]}),e.jsx(H,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:224"}),e.jsxs(x,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:226",children:[e.jsxs(p,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:227",children:[e.jsxs(h,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:228",className:"flex items-center gap-2",children:[e.jsx(Q,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:229",className:"h-5 w-5"}),"Alterar Senha"]}),e.jsx(f,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:232",children:"Atualize sua senha de acesso"})]}),e.jsx(N,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:234",children:e.jsxs("form",{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:235",onSubmit:E,className:"space-y-4",children:[e.jsxs("div",{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:236",className:"space-y-2",children:[e.jsx(o,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:237",htmlFor:"senhaAtual",children:"Senha Atual"}),e.jsx(r,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:238",id:"senhaAtual",type:"password",value:n.senhaAtual,onChange:t=>A({...n,senhaAtual:t.target.value}),placeholder:"Digite sua senha atual",required:!0})]}),e.jsxs("div",{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:250",className:"space-y-2",children:[e.jsx(o,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:251",htmlFor:"novaSenha",children:"Nova Senha"}),e.jsx(r,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:252",id:"novaSenha",type:"password",value:n.novaSenha,onChange:t=>A({...n,novaSenha:t.target.value}),placeholder:"Mínimo 6 caracteres",minLength:6})]}),e.jsxs("div",{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:264",className:"space-y-2",children:[e.jsx(o,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:265",htmlFor:"confirmarSenha",children:"Confirmar Nova Senha"}),e.jsx(r,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:266",id:"confirmarSenha",type:"password",value:n.confirmarSenha,onChange:t=>A({...n,confirmarSenha:t.target.value}),placeholder:"Digite a senha novamente",minLength:6})]}),e.jsx(y,{"data-loc":"client/src/pages/mentor/MentorConfiguracoes.tsx:278",type:"submit",disabled:C,children:C?"Alterando...":"Alterar Senha"})]})})]})]})]})}export{re as default};
