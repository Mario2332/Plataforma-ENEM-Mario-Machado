import{c as ge,$ as k,a0 as v,j as a,C as ga,b as ma,B as u,D as _,k as B,l as H,m as V,n as Q,o as J,a9 as me}from"./index-C2B3IB_c.js";import{r}from"./vendor-recharts-CyIoRYya.js";import{I as q}from"./input-IkSnu5fh.js";import{L as T}from"./label-B4RNfRBc.js";import{S as ue,a as xe,b as pe,c as he,d as Ae}from"./select-B4T4TC7F.js";import{S as fe}from"./switch-C2zMqetz.js";import{t as x}from"./vendor-ui-Cvn9ctBs.js";import{w as F,x as aa,D as Ra,e as b,T as ua,K as Ce,h as ve,j as xa,I as je}from"./vendor-firebase-BLqY7lrF.js";import{a as ye}from"./MentorViewContext-BmLads4q.js";import{C as Se,a as Ne,L as ea}from"./skeleton-loader-Wh7z9n5e.js";import{a as Oa}from"./CronogramaWrapper-D8yF_WfX.js";import{L as Ta}from"./loader-circle-CsvYfE1b.js";import{I as be}from"./info-BMGG_J_g.js";import{S as pa}from"./star-Bp1RJPhY.js";import{C as we}from"./chevron-left-fsiRNkaC.js";import{C as De}from"./chevron-right-BlJ8Zt-2.js";import{P as $a}from"./plus-BXwWS3K4.js";import{T as La}from"./trash-2-a1AvI4sz.js";import{C as ze}from"./clock-DqiC_TiQ.js";import{P as ke}from"./pen-BDrI5qLX.js";import"./vendor-react-YualkU3Z.js";import"./useComposition-iS-LvcVy.js";import"./index-6JkbYph2.js";import"./index-ChHGvnL7.js";import"./check-Bd06ooax.js";import"./calendar-D0kK5S8v.js";import"./refresh-cw-CYd3uh-v.js";import"./zap-otdbUdog.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=ge("Link2Off",[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Me=["Matemática","Biologia","Física","Química","História","Geografia","Filosofia","Sociologia","Linguagens","Redação","Revisão","Simulado","Correção de simulado","Preenchimento de lacunas","Dormir","Atividade física","Igreja","Outra atividade"],ha={Matemática:"#3b82f6",Biologia:"#10b981",Física:"#f59e0b",Química:"#ef4444",História:"#8b5cf6",Geografia:"#ec4899",Filosofia:"#06b6d4",Sociologia:"#f97316",Linguagens:"#84cc16",Redação:"#14b8a6",Revisão:"#a855f7",Simulado:"#f43f5e","Correção de simulado":"#0ea5e9","Preenchimento de lacunas":"#eab308",Dormir:"#6366f1","Atividade física":"#22c55e",Igreja:"#d946ef","Outra atividade":"#94a3b8"},Fe=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],Ee=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],Ua=(d,f)=>{const E=f.atividade==="Outra atividade"?f.atividadePersonalizada||"outra":f.atividade;return`sync_${d}_${f.diaSemana}_${f.horaInicio.replace(":","")}_${E.replace(/\s+/g,"_")}`};function ls(){const d=ye(),[f,E]=r.useState(new Date().getMonth()),[G,Aa]=r.useState(new Date().getFullYear()),[I,$]=r.useState([]),[_a,fa]=r.useState([]),[Ba,Ca]=r.useState(!0),[sa,w]=r.useState(!1),[va,K]=r.useState("idle"),[h,na]=r.useState({sincronizacaoAtiva:!1,dataFimSincronizacao:"",atividadesManuaisPreSincronizacao:[]}),[Ha,P]=r.useState(!1),[Va,Y]=r.useState(!1),[Qa,W]=r.useState(!1),[ta,ja]=r.useState(!0),[D,oa]=r.useState(null),[ya,Ja]=r.useState(""),[qa,X]=r.useState(!1),[ra,Sa]=r.useState("single"),[ca,Na]=r.useState(""),[Ga,L]=r.useState(!1),[M,Ka]=r.useState(""),[l,z]=r.useState({data:"",horaInicio:"08:00",horaFim:"09:00",atividade:"",atividadePersonalizada:"",cor:"#3b82f6",isManual:!0}),U=r.useRef(null),ia=r.useRef(!1),ba=r.useRef([]),wa=r.useRef(null);r.useEffect(()=>{ba.current=I},[I]),r.useEffect(()=>{wa.current=d},[d]),r.useEffect(()=>d?((async()=>{Ca(!0),ia.current=!1;try{await Promise.all([Da(),Ya(),Wa()])}finally{Ca(!1)}})(),()=>{U.current&&clearTimeout(U.current)}):void 0,[d]);const Da=async()=>{try{const e=d||k.currentUser?.uid;if(!e)throw new Error("Usuário não autenticado");const s=F(v,"alunos",e,"agenda"),t=(await aa(s)).docs.map(o=>({id:o.id,...o.data()}));$(t)}catch{}},Ya=async()=>{try{const e=d||k.currentUser?.uid;if(!e)throw new Error("Usuário não autenticado");const s=F(v,"alunos",e,"cronograma_lista"),t=(await aa(s)).docs.map(o=>({id:o.id,...o.data()}));fa(t)}catch{}},Wa=async()=>{try{const e=d||k.currentUser?.uid;if(!e)throw new Error("Usuário não autenticado");const s=b(v,"alunos",e,"agenda_config","config"),n=await ve(s);n.exists()&&na(n.data())}catch{}},za=async e=>{try{const s=d||k.currentUser?.uid;if(!s)throw new Error("Usuário não autenticado");const n=b(v,"alunos",s,"agenda_config","config");await xa(n,e),na(e)}catch(s){throw s}},la=async e=>{try{const s=d||k.currentUser?.uid;if(!s)throw new Error("Usuário não autenticado");const n=F(v,"alunos",s,"agenda"),t=await aa(n),o=Ra(v);t.docs.forEach(m=>{o.delete(m.ref)}),e.forEach(m=>{const{id:g,...p}=m,A=b(n);o.set(A,{...p,createdAt:ua.now()})}),await o.commit(),await Da()}catch(s){throw s}};r.useCallback(()=>{ia.current=!0,K("saving"),U.current&&clearTimeout(U.current),U.current=setTimeout(async()=>{if(wa.current)try{await la(ba.current),ia.current=!1,K("saved"),setTimeout(()=>{K("idle")},2e3)}catch{K("error"),x.error("Erro ao salvar. Tente novamente.")}},1500)},[]);const ka=r.useCallback(async(e,s)=>{if(!(!s.sincronizacaoAtiva||!s.dataFimSincronizacao))try{const n=d||k.currentUser?.uid;if(!n)return;const t=F(v,"alunos",n,"agenda"),m=(await aa(t)).docs.map(i=>({id:i.id,...i.data()})),g=m.filter(i=>i.isManual),p=m.filter(i=>!i.isManual),A=new Map,c=new Date(s.dataFimSincronizacao),j=new Date;j.setHours(0,0,0,0);let y=new Date(j);for(;y<=c;){const i=y.getDay(),S=y.toISOString().split("T")[0];e.filter(C=>C.diaSemana===i).forEach(C=>{const O=Ua(S,C);A.set(O,{id:O,data:S,horaInicio:C.horaInicio,horaFim:C.horaFim,atividade:C.atividade,atividadePersonalizada:C.atividadePersonalizada,cor:C.cor,isManual:!1})}),y.setDate(y.getDate()+1)}const R=Ra(v);let Z=0;const ie=new Set(A.keys());p.forEach(i=>{if(!ie.has(i.id)){const S=b(t,i.id);R.delete(S),Z++}});const le=new Set(p.map(i=>i.id));if(A.forEach((i,S)=>{if(le.has(S)){const N=p.find(C=>C.id===S);if(N&&(N.horaInicio!==i.horaInicio||N.horaFim!==i.horaFim||N.atividade!==i.atividade||N.atividadePersonalizada!==i.atividadePersonalizada||N.cor!==i.cor)){const O=b(t,S),{id:Pe,...de}=i;R.update(O,de),Z++}}else{const N=b(t,S),{id:C,...O}=i;R.set(N,{...O,createdAt:ua.now()}),Z++}}),Z>0){await R.commit();const i=[...g,...Array.from(A.values())];$(i)}}catch{}},[d]);r.useEffect(()=>{if(!d||!h.sincronizacaoAtiva)return;const s=F(v,"alunos",d,"cronograma_lista"),n=Ce(s,t=>{const o=t.docs.map(m=>({id:m.id,...m.data()}));fa(o),ka(o,h)},t=>{});return()=>{n()}},[d,h.sincronizacaoAtiva,h.dataFimSincronizacao,ka]);const Xa=(e,s)=>{const n=new Date(s,e,1),o=new Date(s,e+1,0).getDate(),m=n.getDay(),g=[],p=new Date(s,e,0).getDate();for(let c=m-1;c>=0;c--){const j=p-c,y=e===0?11:e-1,R=e===0?s-1:s;g.push({data:`${R}-${String(y+1).padStart(2,"0")}-${String(j).padStart(2,"0")}`,dia:j,isCurrentMonth:!1})}for(let c=1;c<=o;c++)g.push({data:`${s}-${String(e+1).padStart(2,"0")}-${String(c).padStart(2,"0")}`,dia:c,isCurrentMonth:!0});const A=42-g.length;for(let c=1;c<=A;c++){const j=e===11?0:e+1,y=e===11?s+1:s;g.push({data:`${y}-${String(j+1).padStart(2,"0")}-${String(c).padStart(2,"0")}`,dia:c,isCurrentMonth:!1})}return g},Za=()=>{f===0?(E(11),Aa(G-1)):E(f-1)},ae=()=>{f===11?(E(0),Aa(G+1)):E(f+1)},da=e=>I.filter(s=>s.data===e).sort((s,n)=>s.horaInicio.localeCompare(n.horaInicio)),Ia=e=>{Ja(e),oa(null),z({data:e,horaInicio:"08:00",horaFim:"09:00",atividade:"",atividadePersonalizada:"",cor:"#3b82f6",isManual:!0}),P(!0)},Ma=e=>{e.isManual?(oa(e),z({...e,atividadePersonalizada:e.atividadePersonalizada||""}),P(!0)):(oa(e),X(!0))},ee=()=>{D&&(X(!1),ra==="single"?(z({...D,atividadePersonalizada:D.atividadePersonalizada||"",isManual:!0}),P(!0)):x.info("Para editar todas as ocorrências, vá para a aba 'Semanal > Lista' e edite a atividade lá."))},se=async()=>{if(!l.atividade){x.error("Selecione uma atividade");return}if(l.atividade==="Outra atividade"&&!l.atividadePersonalizada?.trim()){x.error("Informe o nome da atividade personalizada");return}if(l.horaInicio>=l.horaFim){x.error("O horário de início deve ser anterior ao horário de fim");return}const e=l.atividade==="Outra atividade"?l.cor:ha[l.atividade]||l.cor,s={...l,cor:e,isManual:!0};P(!1),w(!0);try{const n=d||k.currentUser?.uid;if(!n)throw new Error("Usuário não autenticado");const t=F(v,"alunos",n,"agenda");if(D){const o=b(t,D.id),{id:m,...g}=s;await xa(o,g,{merge:!0}),$(p=>p.map(A=>A.id===D.id?{...s,id:A.id}:A)),x.success("Atividade atualizada!")}else{const o=b(t),{id:m,...g}=s;await xa(o,{...g,createdAt:ua.now()}),$(p=>[...p,{...s,id:o.id}]),x.success("Atividade adicionada!")}}catch{x.error("Erro ao salvar atividade. Tente novamente.")}finally{w(!1)}},Fa=async e=>{const s=I.find(n=>n.id===e);s&&!s.isManual&&x.warning("Esta é uma atividade sincronizada do cronograma semanal. Para removê-la permanentemente, edite o cronograma semanal na aba 'Semanal'.",{duration:5e3}),w(!0);try{const n=d||k.currentUser?.uid;if(!n)throw new Error("Usuário não autenticado");const t=F(v,"alunos",n,"agenda"),o=b(t,e);await je(o),$(m=>m.filter(g=>g.id!==e)),x.success("Atividade removida!")}catch{x.error("Erro ao remover atividade. Tente novamente.")}finally{w(!1)}},ne=()=>{h.sincronizacaoAtiva?re():(Na(""),Y(!0))},te=()=>{if(!ca){x.error("Defina a data de término da sincronização");return}na(e=>({...e,dataFimSincronizacao:ca})),Y(!1),W(!0)},oe=async()=>{try{w(!0);const e=I.filter(g=>g.isManual),s=[];ta&&s.push(...e);const n=new Date(h.dataFimSincronizacao),t=new Date;t.setHours(0,0,0,0);let o=new Date(t);for(;o<=n;){const g=o.getDay(),p=o.toISOString().split("T")[0];_a.filter(c=>c.diaSemana===g).forEach(c=>{const j=Ua(p,c);s.push({id:j,data:p,horaInicio:c.horaInicio,horaFim:c.horaFim,atividade:c.atividade,atividadePersonalizada:c.atividadePersonalizada,cor:c.cor,isManual:!1})}),o.setDate(o.getDate()+1)}const m={sincronizacaoAtiva:!0,dataFimSincronizacao:h.dataFimSincronizacao,atividadesManuaisPreSincronizacao:e};await za(m),await la(s),W(!1),x.success("Sincronização ativada com sucesso!")}catch{x.error("Erro ao ativar sincronização")}finally{w(!1)}},re=async()=>{try{w(!0);const e=I.filter(n=>n.isManual);await za({sincronizacaoAtiva:!1,dataFimSincronizacao:"",atividadesManuaisPreSincronizacao:[]}),await la(e),x.success("Sincronização desativada! Atividades manuais mantidas.")}catch{x.error("Erro ao desativar sincronização")}finally{w(!1)}},Ea=e=>e.atividade==="Outra atividade"&&e.atividadePersonalizada?e.atividadePersonalizada:e.atividade,Pa=e=>{const s=new Date().toISOString().split("T")[0];return e===s};if(Ba)return a.jsx(Se,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:789"});const ce=Xa(f,G);return a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:795",className:"space-y-6",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:797",className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:798",className:"flex items-center gap-3",children:[a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:799",className:"p-3 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-500 shadow-lg",children:a.jsx(Oa,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:800",className:"h-6 w-6 text-white"})}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:802",children:[a.jsx("h2",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:803",className:"text-xl font-bold",children:"Agenda Mensal"}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:804",className:"text-sm text-muted-foreground",children:"Visualize e organize suas atividades do mês"})]})]}),a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:808",className:"flex items-center gap-3",children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:810",className:"flex items-center gap-2 text-sm",children:[va==="saving"&&a.jsxs(a.Fragment,{children:[a.jsx(Ta,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:813",className:"h-4 w-4 animate-spin text-blue-500"}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:814",className:"text-blue-500",children:"Salvando..."})]}),va==="saved"&&a.jsxs(a.Fragment,{children:[a.jsx(Ne,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:819",className:"h-4 w-4 text-green-500"}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:820",className:"text-green-500",children:"Salvo!"})]})]})})]}),a.jsx(ga,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:828",className:`border-2 ${h.sincronizacaoAtiva?"border-emerald-400 bg-emerald-50 dark:bg-emerald-950/20":"border-gray-200"}`,children:a.jsx(ma,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:829",className:"py-4 px-5",children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:830",className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:831",className:"flex items-center gap-3",children:[h.sincronizacaoAtiva?a.jsx(ea,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:833",className:"h-5 w-5 text-emerald-600"}):a.jsx(Ie,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:835",className:"h-5 w-5 text-gray-400"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:837",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:838",className:"font-medium",children:"Sincronização com Cronograma Semanal de Lista"}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:841",className:"text-sm text-muted-foreground",children:h.sincronizacaoAtiva?`Ativo até ${new Date(h.dataFimSincronizacao+"T00:00:00").toLocaleDateString("pt-BR")}`:"Desativado - As atividades do cronograma semanal não serão replicadas automaticamente"})]})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:850",className:"flex items-center gap-3",children:[a.jsx(fe,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:851",checked:h.sincronizacaoAtiva,onCheckedChange:ne,disabled:sa}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:856",className:"text-sm font-medium",children:h.sincronizacaoAtiva?"Ativado":"Desativado"})]})]})})}),a.jsx(ga,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:865",className:"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-950/30 dark:to-cyan-950/30 border-blue-200 dark:border-blue-800",children:a.jsx(ma,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:866",className:"py-3 px-4",children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:867",className:"flex flex-wrap items-center gap-4",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:868",className:"flex items-center gap-2",children:[a.jsx(be,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:869",className:"h-5 w-5 text-blue-500 flex-shrink-0"}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:870",className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"Legenda:"})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:872",className:"flex items-center gap-2",children:[a.jsx(pa,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:873",className:"h-4 w-4 text-amber-500"}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:874",className:"text-sm text-blue-700 dark:text-blue-300",children:"Atividade manual"})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:876",className:"flex items-center gap-2",children:[a.jsx(ea,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:877",className:"h-4 w-4 text-emerald-500"}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:878",className:"text-sm text-blue-700 dark:text-blue-300",children:"Atividade sincronizada"})]})]})})}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:885",className:"flex items-center justify-between",children:[a.jsx(u,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:886",variant:"outline",size:"icon",onClick:Za,children:a.jsx(we,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:887",className:"h-5 w-5"})}),a.jsxs("h3",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:889",className:"text-xl font-bold",children:[Fe[f]," ",G]}),a.jsx(u,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:892",variant:"outline",size:"icon",onClick:ae,children:a.jsx(De,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:893",className:"h-5 w-5"})})]}),a.jsx(ga,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:898",className:"overflow-hidden",children:a.jsxs(ma,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:899",className:"p-0",children:[a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:901",className:"grid grid-cols-7 border-b bg-gray-50 dark:bg-gray-800",children:Ee.map(e=>a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:903",className:"p-2 text-center text-sm font-semibold text-gray-600 dark:text-gray-300",children:e},e))}),a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:910",className:"grid grid-cols-7",children:ce.map((e,s)=>{const n=da(e.data);return n.length>0,a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:916",className:`
                    min-h-[100px] sm:min-h-[120px] p-1 sm:p-2 border-b border-r
                    ${e.isCurrentMonth?"":"bg-gray-50 dark:bg-gray-900/50"}
                    ${Pa(e.data)?"bg-blue-50 dark:bg-blue-950/30":""}
                  `,children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:924",className:"flex items-center justify-between mb-1",children:[a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:925",className:`
                      text-sm font-medium
                      ${e.isCurrentMonth?"":"text-gray-400"}
                      ${Pa(e.data)?"bg-blue-500 text-white px-2 py-0.5 rounded-full":""}
                    `,children:e.dia}),e.isCurrentMonth&&a.jsx(u,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:933",variant:"ghost",size:"icon",className:"h-6 w-6 opacity-50 hover:opacity-100",onClick:()=>Ia(e.data),children:a.jsx($a,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:939",className:"h-3 w-3"})})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:945",className:"space-y-1 max-h-[80px] overflow-y-auto",children:[n.slice(0,3).map(t=>a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:947",className:"group relative flex items-center gap-1 px-1.5 py-0.5 rounded text-xs cursor-pointer hover:opacity-80",style:{backgroundColor:`${t.cor}20`,borderLeft:`3px solid ${t.cor}`},onClick:()=>Ma(t),children:[t.isManual?a.jsx(pa,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:954",className:"h-2.5 w-2.5 text-amber-500 flex-shrink-0"}):a.jsx(ea,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:956",className:"h-2.5 w-2.5 text-emerald-500 flex-shrink-0"}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:958",className:"truncate",style:{color:t.cor},children:Ea(t)}),a.jsx(u,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:961",variant:"ghost",size:"icon",className:"h-4 w-4 opacity-0 group-hover:opacity-100 absolute right-0 top-0",onClick:o=>{o.stopPropagation(),Fa(t.id)},children:a.jsx(La,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:970",className:"h-2.5 w-2.5 text-red-500"})})]},t.id)),n.length>3&&a.jsxs("button",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:975",className:"text-xs text-blue-600 hover:text-blue-800 hover:underline px-1 cursor-pointer font-medium",onClick:t=>{t.stopPropagation(),Ka(e.data),L(!0)},children:["+",n.length-3," mais"]})]})]},s)})})]})}),a.jsx(_,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:995",open:Ha,onOpenChange:P,children:a.jsxs(B,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:996",className:"sm:max-w-[425px]",children:[a.jsxs(H,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:997",children:[a.jsx(V,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:998",children:D?"Editar Atividade":"Nova Atividade"}),a.jsx(Q,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1001",children:ya&&`Data: ${new Date(ya+"T00:00:00").toLocaleDateString("pt-BR")}`})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1006",className:"space-y-4 py-4",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1008",className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1009",className:"space-y-2",children:[a.jsx(T,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1010",children:"Horário Início"}),a.jsx(q,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1011",type:"time",value:l.horaInicio,onChange:e=>z({...l,horaInicio:e.target.value})})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1017",className:"space-y-2",children:[a.jsx(T,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1018",children:"Horário Fim"}),a.jsx(q,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1019",type:"time",value:l.horaFim,onChange:e=>z({...l,horaFim:e.target.value})})]})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1028",className:"space-y-2",children:[a.jsx(T,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1029",children:"Atividade"}),a.jsxs(ue,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1030",value:l.atividade,onValueChange:e=>z({...l,atividade:e,cor:ha[e]||l.cor}),children:[a.jsx(xe,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1038",children:a.jsx(pe,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1039",placeholder:"Selecione a atividade"})}),a.jsx(he,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1041",children:Me.map(e=>a.jsx(Ae,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1043",value:e,children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1044",className:"flex items-center gap-2",children:[a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1045",className:"w-3 h-3 rounded-full",style:{backgroundColor:ha[e]||"#94a3b8"}}),e]})},e))})]})]}),l.atividade==="Outra atividade"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1060",className:"space-y-2",children:[a.jsx(T,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1061",children:"Nome da Atividade"}),a.jsx(q,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1062",value:l.atividadePersonalizada,onChange:e=>z({...l,atividadePersonalizada:e.target.value}),placeholder:"Ex: Curso de inglês"})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1068",className:"space-y-2",children:[a.jsx(T,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1069",children:"Cor"}),a.jsx(q,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1070",type:"color",value:l.cor,onChange:e=>z({...l,cor:e.target.value}),className:"h-10 w-full"})]})]})]}),a.jsxs(J,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1081",children:[a.jsx(u,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1082",variant:"outline",onClick:()=>P(!1),children:"Cancelar"}),a.jsx(u,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1085",onClick:se,className:"bg-gradient-to-r from-emerald-500 to-teal-500",children:D?"Salvar":"Adicionar"})]})]})}),a.jsx(_,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1093",open:Va,onOpenChange:Y,children:a.jsxs(B,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1094",className:"sm:max-w-[425px]",children:[a.jsxs(H,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1095",children:[a.jsx(V,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1096",children:"Configurar Sincronização"}),a.jsx(Q,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1097",children:"As atividades do seu Cronograma Semanal de Lista serão replicadas automaticamente na agenda até a data definida."})]}),a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1102",className:"space-y-4 py-4",children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1103",className:"space-y-2",children:[a.jsx(T,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1104",children:"Data de Término da Sincronização"}),a.jsx(q,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1105",type:"date",value:ca,onChange:e=>Na(e.target.value),min:new Date().toISOString().split("T")[0]}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1111",className:"text-xs text-muted-foreground",children:"As atividades serão sincronizadas de hoje até esta data."})]})}),a.jsxs(J,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1117",children:[a.jsx(u,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1118",variant:"outline",onClick:()=>Y(!1),children:"Cancelar"}),a.jsx(u,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1121",type:"button",onClick:te,className:"bg-gradient-to-r from-emerald-500 to-teal-500",children:"Continuar"})]})]})}),a.jsx(_,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1133",open:Qa,onOpenChange:W,children:a.jsxs(B,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1134",className:"sm:max-w-[425px]",children:[a.jsxs(H,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1135",children:[a.jsxs(V,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1136",className:"flex items-center gap-2",children:[a.jsx(me,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1137",className:"h-5 w-5 text-amber-500"}),"Confirmar Sincronização"]}),a.jsxs(Q,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1140",children:["Você possui ",I.filter(e=>e.isManual).length," atividade(s) adicionada(s) manualmente na agenda."]})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1145",className:"space-y-4 py-4",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1146",className:"text-sm",children:"O que deseja fazer com as atividades manuais existentes?"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1150",className:"space-y-3",children:[a.jsxs("label",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1151",className:"flex items-start gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800",children:[a.jsx("input",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1152",type:"radio",name:"manterAtividades",checked:ta,onChange:()=>ja(!0),className:"mt-1"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1159",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1160",className:"font-medium",children:"Manter atividades manuais"}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1161",className:"text-sm text-muted-foreground",children:"As atividades que você adicionou manualmente serão mantidas junto com as sincronizadas."})]})]}),a.jsxs("label",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1167",className:"flex items-start gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800",children:[a.jsx("input",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1168",type:"radio",name:"manterAtividades",checked:!ta,onChange:()=>ja(!1),className:"mt-1"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1175",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1176",className:"font-medium",children:"Excluir atividades manuais"}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1177",className:"text-sm text-muted-foreground",children:"Apenas as atividades sincronizadas do cronograma semanal serão mantidas."})]})]})]})]}),a.jsxs(J,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1185",children:[a.jsx(u,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1186",variant:"outline",onClick:()=>W(!1),children:"Cancelar"}),a.jsx(u,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1189",onClick:oe,className:"bg-gradient-to-r from-emerald-500 to-teal-500",disabled:sa,children:sa?a.jsxs(a.Fragment,{children:[a.jsx(Ta,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1196",className:"h-4 w-4 mr-2 animate-spin"}),"Sincronizando..."]}):"Ativar Sincronização"})]})]})}),a.jsx(_,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1208",open:qa,onOpenChange:X,children:a.jsxs(B,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1209",className:"sm:max-w-[425px]",children:[a.jsxs(H,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1210",children:[a.jsx(V,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1211",children:"Editar Atividade Sincronizada"}),a.jsx(Q,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1212",children:"Esta atividade foi sincronizada do cronograma semanal. Como deseja editá-la?"})]}),a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1217",className:"space-y-4 py-4",children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1218",className:"space-y-3",children:[a.jsxs("label",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1219",className:"flex items-start gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800",children:[a.jsx("input",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1220",type:"radio",name:"editType",checked:ra==="single",onChange:()=>Sa("single"),className:"mt-1"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1227",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1228",className:"font-medium",children:"Apenas este dia"}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1229",className:"text-sm text-muted-foreground",children:"A atividade será convertida para manual e editada apenas neste dia."})]})]}),a.jsxs("label",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1235",className:"flex items-start gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800",children:[a.jsx("input",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1236",type:"radio",name:"editType",checked:ra==="all",onChange:()=>Sa("all"),className:"mt-1"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1243",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1244",className:"font-medium",children:"Todos os dias desta atividade"}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1245",className:"text-sm text-muted-foreground",children:"Você será direcionado para editar no cronograma semanal."})]})]})]})}),a.jsxs(J,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1253",children:[a.jsx(u,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1254",variant:"outline",onClick:()=>X(!1),children:"Cancelar"}),a.jsx(u,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1257",onClick:ee,className:"bg-gradient-to-r from-emerald-500 to-teal-500",children:"Continuar"})]})]})}),a.jsx(_,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1265",open:Ga,onOpenChange:L,children:a.jsxs(B,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1266",className:"sm:max-w-[500px] max-h-[80vh] overflow-y-auto",children:[a.jsxs(H,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1267",children:[a.jsxs(V,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1268",className:"flex items-center gap-2",children:[a.jsx(Oa,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1269",className:"h-5 w-5 text-blue-500"}),"Atividades do Dia"]}),a.jsx(Q,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1272",children:M&&new Date(M+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1282",className:"space-y-3 py-4",children:[M&&da(M).map(e=>a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1284",className:"flex items-center justify-between p-3 rounded-lg border hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",style:{borderLeft:`4px solid ${e.cor}`},children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1289",className:"flex items-center gap-3",children:[e.isManual?a.jsx(pa,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1291",className:"h-4 w-4 text-amber-500 flex-shrink-0"}):a.jsx(ea,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1293",className:"h-4 w-4 text-emerald-500 flex-shrink-0"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1295",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1296",className:"font-medium",style:{color:e.cor},children:Ea(e)}),a.jsxs("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1299",className:"text-sm text-muted-foreground flex items-center gap-1",children:[a.jsx(ze,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1300",className:"h-3 w-3"}),e.horaInicio," - ",e.horaFim]})]})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1305",className:"flex items-center gap-2",children:[a.jsx(u,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1306",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{L(!1),Ma(e)},children:a.jsx(ke,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1315",className:"h-4 w-4 text-blue-500"})}),a.jsx(u,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1317",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{Fa(e.id)},children:a.jsx(La,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1325",className:"h-4 w-4 text-red-500"})})]})]},e.id)),M&&da(M).length===0&&a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1332",className:"text-center text-muted-foreground py-4",children:"Nenhuma atividade neste dia."})]}),a.jsxs(J,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1338",children:[a.jsxs(u,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1339",variant:"outline",onClick:()=>{L(!1),Ia(M)},className:"mr-auto",children:[a.jsx($a,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1347",className:"h-4 w-4 mr-2"}),"Adicionar Atividade"]}),a.jsx(u,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1350",onClick:()=>L(!1),children:"Fechar"})]})]})})]})}export{ls as default};
