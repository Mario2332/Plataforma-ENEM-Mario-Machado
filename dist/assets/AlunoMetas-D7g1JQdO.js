import{j as a,C as j,f as C,g as S,T as R,b as v,h as I,d as Oa,B as b,v as na,a as Ba,F as _a,D as La,k as Ya,l as Xa,m as Ha,n as Ka,o as Va}from"./index-vDS577is.js";import{e as ia,L as Qa,C as Sa,X as wa,Y as Da,T as da,g as ua,f as Na,P as Ua,l as Wa,i as Za,B as Ja,j as ba,r as x}from"./vendor-recharts-CyIoRYya.js";import{u as as}from"./useAlunoApi-BjVHngV-.js";import{t as y}from"./vendor-ui-Cvn9ctBs.js";import{C as K}from"./circle-check-DURSzcEt.js";import{T as Ea}from"./trending-up-Bk2c_T6f.js";import{C as ss}from"./chart-pie-Cxd7aB3c.js";import{S as xa,a as ma,b as pa,c as ga,d as F}from"./select-4aWqg8Uq.js";import{C as Ta}from"./calendar-CrTm-ErO.js";import{P as ts}from"./progress-u9hfaC8O.js";import{B as h}from"./badge-BG6KI2wJ.js";import{C as es}from"./checkbox-CXpGRjIG.js";import{I as X}from"./input-BzGet-eg.js";import{L as G}from"./label-9xVUa-0A.js";import{T as os}from"./textarea-DXPt_QFc.js";import{P as ca}from"./plus-LXI4FMHv.js";import{F as ha}from"./flame-DAG8qLVE.js";import{T as ls}from"./trophy-D5FQnF9R.js";import{C as ns}from"./clock-BMEP4CEo.js";import{S as cs}from"./square-pen-D8qyB1cY.js";import{C as H}from"./circle-x-CLtI-uq7.js";import{T as ra}from"./trash-2-BxdiUQPX.js";import"./vendor-react-YualkU3Z.js";import"./vendor-firebase-BLqY7lrF.js";import"./api-ZTRUoH6I.js";import"./MentorViewContext-b0bhueip.js";import"./CronogramaWrapper-B_FPiU69.js";import"./refresh-cw-CKBRJ0ew.js";import"./zap-BQ-8vGDV.js";import"./loader-circle-BU4M_8gV.js";import"./star-H5wfVa4d.js";import"./award-DXXwvH3-.js";import"./pen-C6JZY8Io.js";import"./index-JY-22_T8.js";import"./index-ChHGvnL7.js";import"./check-lwkR8DAi.js";import"./useComposition-iS-LvcVy.js";const V=t=>{if(!t)return new Date;if(t instanceof Date)return t;if(t.toDate&&typeof t.toDate=="function")return t.toDate();if(t._seconds||t.seconds){const n=t._seconds||t.seconds,i=t._nanoseconds||t.nanoseconds||0;return new Date(n*1e3+i/1e6)}return typeof t=="string"?new Date(t):new Date},fa=t=>{const n=t.getFullYear(),i=String(t.getMonth()+1).padStart(2,"0"),e=String(t.getDate()).padStart(2,"0");return`${n}-${i}-${e}`},ya=t=>{const n=V(t);return fa(n)},Ca=t=>V(t).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",timeZone:"America/Sao_Paulo"}),rs=()=>fa(new Date),is=(t,n)=>{const i=new Date(t);return i.setDate(i.getDate()+n),fa(i)};function ds({metas:t}){const n=t.length,i=t.filter(o=>o.status==="concluida").length,e=t.filter(o=>o.status==="ativa").length,r=n>0?Math.round(i/n*100):0,p=new Set(t.filter(o=>o.status==="concluida"&&o.dataConclusao).map(o=>{try{const d=o.dataConclusao?.toDate?o.dataConclusao.toDate():new Date(o.dataConclusao);if(isNaN(d.getTime()))return null;const M=d.getFullYear(),l=String(d.getMonth()+1).padStart(2,"0"),A=String(d.getDate()).padStart(2,"0");return`${M}-${l}-${A}`}catch{return null}}).filter(o=>o!==null)),w=new Date;for(let o=0;o<365;o++){const d=new Date(w);d.setDate(d.getDate()-o);const M=d.getFullYear(),l=String(d.getMonth()+1).padStart(2,"0"),A=String(d.getDate()).padStart(2,"0"),D=`${M}-${l}-${A}`;if(!p.has(D)){if(o>0)break}}const f=t.filter(o=>o.status==="ativa").sort((o,d)=>{const M=o.valorAtual/o.valorAlvo*100;return d.valorAtual/d.valorAlvo*100-M})[0];return f&&Math.round(f.valorAtual/f.valorAlvo*100),a.jsxs("div",{"data-loc":"client/src/components/metas/EstatisticasMetasCards.tsx:81",className:"grid grid-cols-1 md:grid-cols-3 gap-6 animate-slide-up",children:[a.jsxs(j,{"data-loc":"client/src/components/metas/EstatisticasMetasCards.tsx:83",className:"relative overflow-hidden border-2 hover:border-blue-500 transition-all duration-500 hover:shadow-2xl hover:shadow-blue-500/20 group",children:[a.jsx("div",{"data-loc":"client/src/components/metas/EstatisticasMetasCards.tsx:84",className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsx("div",{"data-loc":"client/src/components/metas/EstatisticasMetasCards.tsx:85",className:"absolute top-0 right-0 w-32 h-32 bg-blue-500/20 rounded-full blur-3xl group-hover:scale-150 transition-transform duration-700"}),a.jsx(C,{"data-loc":"client/src/components/metas/EstatisticasMetasCards.tsx:87",className:"pb-3",children:a.jsxs(S,{"data-loc":"client/src/components/metas/EstatisticasMetasCards.tsx:88",className:"text-sm font-semibold flex items-center gap-2",children:[a.jsx(R,{"data-loc":"client/src/components/metas/EstatisticasMetasCards.tsx:89",className:"h-5 w-5 text-blue-500"}),"Metas Ativas"]})}),a.jsxs(v,{"data-loc":"client/src/components/metas/EstatisticasMetasCards.tsx:93",children:[a.jsx("div",{"data-loc":"client/src/components/metas/EstatisticasMetasCards.tsx:94",className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:e}),a.jsx("p",{"data-loc":"client/src/components/metas/EstatisticasMetasCards.tsx:95",className:"text-xs text-muted-foreground mt-1",children:"em andamento"})]})]}),a.jsxs(j,{"data-loc":"client/src/components/metas/EstatisticasMetasCards.tsx:100",className:"relative overflow-hidden border-2 hover:border-green-500 transition-all duration-500 hover:shadow-2xl hover:shadow-green-500/20 group",children:[a.jsx("div",{"data-loc":"client/src/components/metas/EstatisticasMetasCards.tsx:101",className:"absolute inset-0 bg-gradient-to-br from-green-500/10 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsx("div",{"data-loc":"client/src/components/metas/EstatisticasMetasCards.tsx:102",className:"absolute top-0 right-0 w-32 h-32 bg-green-500/20 rounded-full blur-3xl group-hover:scale-150 transition-transform duration-700"}),a.jsx(C,{"data-loc":"client/src/components/metas/EstatisticasMetasCards.tsx:104",className:"pb-3",children:a.jsxs(S,{"data-loc":"client/src/components/metas/EstatisticasMetasCards.tsx:105",className:"text-sm font-semibold flex items-center gap-2",children:[a.jsx(K,{"data-loc":"client/src/components/metas/EstatisticasMetasCards.tsx:106",className:"h-5 w-5 text-green-500"}),"Metas Concluídas"]})}),a.jsxs(v,{"data-loc":"client/src/components/metas/EstatisticasMetasCards.tsx:110",children:[a.jsx("div",{"data-loc":"client/src/components/metas/EstatisticasMetasCards.tsx:111",className:"text-3xl font-bold text-green-600 dark:text-green-400",children:i}),a.jsx("p",{"data-loc":"client/src/components/metas/EstatisticasMetasCards.tsx:112",className:"text-xs text-muted-foreground mt-1",children:"alcançadas"})]})]}),a.jsxs(j,{"data-loc":"client/src/components/metas/EstatisticasMetasCards.tsx:117",className:"relative overflow-hidden border-2 hover:border-purple-500 transition-all duration-500 hover:shadow-2xl hover:shadow-purple-500/20 group",children:[a.jsx("div",{"data-loc":"client/src/components/metas/EstatisticasMetasCards.tsx:118",className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsx("div",{"data-loc":"client/src/components/metas/EstatisticasMetasCards.tsx:119",className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/20 rounded-full blur-3xl group-hover:scale-150 transition-transform duration-700"}),a.jsx(C,{"data-loc":"client/src/components/metas/EstatisticasMetasCards.tsx:121",className:"pb-3",children:a.jsxs(S,{"data-loc":"client/src/components/metas/EstatisticasMetasCards.tsx:122",className:"text-sm font-semibold flex items-center gap-2",children:[a.jsx(Ea,{"data-loc":"client/src/components/metas/EstatisticasMetasCards.tsx:123",className:"h-5 w-5 text-purple-500"}),"Taxa de Conclusão"]})}),a.jsxs(v,{"data-loc":"client/src/components/metas/EstatisticasMetasCards.tsx:127",children:[a.jsxs("div",{"data-loc":"client/src/components/metas/EstatisticasMetasCards.tsx:128",className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:[r,"%"]}),a.jsx("p",{"data-loc":"client/src/components/metas/EstatisticasMetasCards.tsx:129",className:"text-xs text-muted-foreground mt-1",children:"de sucesso"})]})]})]})}function us({metas:t,diasPeriodo:n=30}){const i=new Date,e=[];for(let r=n-1;r>=0;r--){const p=new Date(i);p.setDate(p.getDate()-r),p.setHours(0,0,0,0);const w=p.getFullYear(),f=String(p.getMonth()+1).padStart(2,"0"),o=String(p.getDate()).padStart(2,"0"),d=`${w}-${f}-${o}`,M=t.filter(m=>{if(!m.createdAt)return!1;try{let u;if(m.createdAt?._seconds?u=new Date(m.createdAt._seconds*1e3):m.createdAt?.toDate?u=m.createdAt.toDate():u=new Date(m.createdAt),isNaN(u.getTime()))return!1;const P=u.getFullYear(),E=String(u.getMonth()+1).padStart(2,"0"),k=String(u.getDate()).padStart(2,"0");return`${P}-${E}-${k}`===d}catch{return!1}}).length,l=t.filter(m=>{if(!m.dataConclusao)return!1;try{let u;if(m.dataConclusao?._seconds?u=new Date(m.dataConclusao._seconds*1e3):m.dataConclusao?.toDate?u=m.dataConclusao.toDate():u=new Date(m.dataConclusao),isNaN(u.getTime()))return!1;const P=u.getFullYear(),E=String(u.getMonth()+1).padStart(2,"0"),k=String(u.getDate()).padStart(2,"0");return`${P}-${E}-${k}`===d}catch{return!1}}).length,A=p.getDate().toString().padStart(2,"0"),D=(p.getMonth()+1).toString().padStart(2,"0");e.push({data:`${A}/${D}`,criadas:M,concluidas:l})}return a.jsxs(j,{"data-loc":"client/src/components/metas/GraficoMetasPorDia.tsx:101",className:"col-span-full",children:[a.jsxs(C,{"data-loc":"client/src/components/metas/GraficoMetasPorDia.tsx:102",children:[a.jsxs(S,{"data-loc":"client/src/components/metas/GraficoMetasPorDia.tsx:103",className:"flex items-center gap-2",children:[a.jsx(Ea,{"data-loc":"client/src/components/metas/GraficoMetasPorDia.tsx:104",className:"h-5 w-5 text-primary"}),"Acompanhamento de metas"]}),a.jsx(I,{"data-loc":"client/src/components/metas/GraficoMetasPorDia.tsx:107",children:n===7?"Últimos 7 dias":n===15?"Últimos 15 dias":n===30?"Últimos 30 dias":n===60?"Últimos 60 dias":n===90?"Últimos 90 dias":"Todos os períodos"})]}),a.jsx(v,{"data-loc":"client/src/components/metas/GraficoMetasPorDia.tsx:111",children:a.jsx(ia,{"data-loc":"client/src/components/metas/GraficoMetasPorDia.tsx:112",width:"100%",height:300,children:a.jsxs(Qa,{"data-loc":"client/src/components/metas/GraficoMetasPorDia.tsx:113",data:e,children:[a.jsx(Sa,{"data-loc":"client/src/components/metas/GraficoMetasPorDia.tsx:114",strokeDasharray:"3 3",className:"stroke-muted"}),a.jsx(wa,{"data-loc":"client/src/components/metas/GraficoMetasPorDia.tsx:115",dataKey:"data",className:"text-xs",tick:{fontSize:12}}),a.jsx(Da,{"data-loc":"client/src/components/metas/GraficoMetasPorDia.tsx:120",className:"text-xs",tick:{fontSize:12},allowDecimals:!1}),a.jsx(da,{"data-loc":"client/src/components/metas/GraficoMetasPorDia.tsx:125",contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),a.jsx(ua,{"data-loc":"client/src/components/metas/GraficoMetasPorDia.tsx:132"}),a.jsx(Na,{"data-loc":"client/src/components/metas/GraficoMetasPorDia.tsx:133",type:"monotone",dataKey:"criadas",stroke:"#3b82f6",strokeWidth:2,name:"Metas Criadas",dot:{fill:"#3b82f6",r:4},activeDot:{r:6}}),a.jsx(Na,{"data-loc":"client/src/components/metas/GraficoMetasPorDia.tsx:142",type:"monotone",dataKey:"concluidas",stroke:"#10b981",strokeWidth:2,name:"Metas Concluídas",dot:{fill:"#10b981",r:4},activeDot:{r:6}})]})})})]})}const xs={ativa:"#3b82f6",concluida:"#10b981",expirada:"#ef4444",cancelada:"#6b7280"},ms={ativa:"Ativas",concluida:"Concluídas",expirada:"Expiradas",cancelada:"Canceladas"},ps={horas:"Horas de Estudo",questoes:"Questões",simulados:"Simulados",topicos:"Tópicos",sequencia:"Sequência",desempenho:"Desempenho"};function gs({metas:t}){const n=Object.entries(t.reduce((e,r)=>(e[r.status]=(e[r.status]||0)+1,e),{})).map(([e,r])=>({name:ms[e]||e,value:r,color:xs[e]||"#6b7280"})),i=Object.entries(t.reduce((e,r)=>(e[r.tipo]=(e[r.tipo]||0)+1,e),{})).map(([e,r])=>({tipo:ps[e]||e,total:r,concluidas:t.filter(p=>p.tipo===e&&p.status==="concluida").length}));return a.jsxs("div",{"data-loc":"client/src/components/metas/GraficosStatusETipo.tsx:64",className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(j,{"data-loc":"client/src/components/metas/GraficosStatusETipo.tsx:66",children:[a.jsxs(C,{"data-loc":"client/src/components/metas/GraficosStatusETipo.tsx:67",children:[a.jsxs(S,{"data-loc":"client/src/components/metas/GraficosStatusETipo.tsx:68",className:"flex items-center gap-2",children:[a.jsx(ss,{"data-loc":"client/src/components/metas/GraficosStatusETipo.tsx:69",className:"h-5 w-5 text-primary"}),"Status das Metas"]}),a.jsx(I,{"data-loc":"client/src/components/metas/GraficosStatusETipo.tsx:72",children:"Distribuição por status"})]}),a.jsx(v,{"data-loc":"client/src/components/metas/GraficosStatusETipo.tsx:76",children:a.jsx(ia,{"data-loc":"client/src/components/metas/GraficosStatusETipo.tsx:77",width:"100%",height:300,children:a.jsxs(Ua,{"data-loc":"client/src/components/metas/GraficosStatusETipo.tsx:78",children:[a.jsx(Wa,{"data-loc":"client/src/components/metas/GraficosStatusETipo.tsx:79",data:n,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:r})=>`${e}: ${(r*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:n.map((e,r)=>a.jsx(Za,{"data-loc":"client/src/components/metas/GraficosStatusETipo.tsx:90",fill:e.color},`cell-${r}`))}),a.jsx(da,{"data-loc":"client/src/components/metas/GraficosStatusETipo.tsx:93",contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),a.jsx(ua,{"data-loc":"client/src/components/metas/GraficosStatusETipo.tsx:100"})]})})})]}),a.jsxs(j,{"data-loc":"client/src/components/metas/GraficosStatusETipo.tsx:107",children:[a.jsxs(C,{"data-loc":"client/src/components/metas/GraficosStatusETipo.tsx:108",children:[a.jsxs(S,{"data-loc":"client/src/components/metas/GraficosStatusETipo.tsx:109",className:"flex items-center gap-2",children:[a.jsx(Oa,{"data-loc":"client/src/components/metas/GraficosStatusETipo.tsx:110",className:"h-5 w-5 text-primary"}),"Taxa de Conclusão por Tipo"]}),a.jsx(I,{"data-loc":"client/src/components/metas/GraficosStatusETipo.tsx:113",children:"Metas concluídas vs total por tipo"})]}),a.jsx(v,{"data-loc":"client/src/components/metas/GraficosStatusETipo.tsx:117",children:a.jsx(ia,{"data-loc":"client/src/components/metas/GraficosStatusETipo.tsx:118",width:"100%",height:300,children:a.jsxs(Ja,{"data-loc":"client/src/components/metas/GraficosStatusETipo.tsx:119",data:i,children:[a.jsx(Sa,{"data-loc":"client/src/components/metas/GraficosStatusETipo.tsx:120",strokeDasharray:"3 3",className:"stroke-muted"}),a.jsx(wa,{"data-loc":"client/src/components/metas/GraficosStatusETipo.tsx:121",dataKey:"tipo",className:"text-xs",tick:{fontSize:11},angle:-15,textAnchor:"end",height:80}),a.jsx(Da,{"data-loc":"client/src/components/metas/GraficosStatusETipo.tsx:129",className:"text-xs",tick:{fontSize:12},allowDecimals:!1}),a.jsx(da,{"data-loc":"client/src/components/metas/GraficosStatusETipo.tsx:134",contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),a.jsx(ua,{"data-loc":"client/src/components/metas/GraficosStatusETipo.tsx:141"}),a.jsx(ba,{"data-loc":"client/src/components/metas/GraficosStatusETipo.tsx:142",dataKey:"total",fill:"#3b82f6",name:"Total"}),a.jsx(ba,{"data-loc":"client/src/components/metas/GraficosStatusETipo.tsx:143",dataKey:"concluidas",fill:"#10b981",name:"Concluídas"})]})})})]})]})}function hs({periodo:t,onPeriodoChange:n}){return a.jsxs("div",{"data-loc":"client/src/components/metas/FiltrosPeriodoGraficos.tsx:13",className:"flex items-center gap-2",children:[a.jsx(Ta,{"data-loc":"client/src/components/metas/FiltrosPeriodoGraficos.tsx:14",className:"h-4 w-4 text-muted-foreground"}),a.jsxs(xa,{"data-loc":"client/src/components/metas/FiltrosPeriodoGraficos.tsx:15",value:t,onValueChange:i=>n(i),children:[a.jsx(ma,{"data-loc":"client/src/components/metas/FiltrosPeriodoGraficos.tsx:16",className:"w-[180px]",children:a.jsx(pa,{"data-loc":"client/src/components/metas/FiltrosPeriodoGraficos.tsx:17",placeholder:"Selecione o período"})}),a.jsxs(ga,{"data-loc":"client/src/components/metas/FiltrosPeriodoGraficos.tsx:19",children:[a.jsx(F,{"data-loc":"client/src/components/metas/FiltrosPeriodoGraficos.tsx:20",value:"7",children:"Últimos 7 dias"}),a.jsx(F,{"data-loc":"client/src/components/metas/FiltrosPeriodoGraficos.tsx:21",value:"15",children:"Últimos 15 dias"}),a.jsx(F,{"data-loc":"client/src/components/metas/FiltrosPeriodoGraficos.tsx:22",value:"30",children:"Últimos 30 dias"}),a.jsx(F,{"data-loc":"client/src/components/metas/FiltrosPeriodoGraficos.tsx:23",value:"60",children:"Últimos 60 dias"}),a.jsx(F,{"data-loc":"client/src/components/metas/FiltrosPeriodoGraficos.tsx:24",value:"90",children:"Últimos 90 dias"}),a.jsx(F,{"data-loc":"client/src/components/metas/FiltrosPeriodoGraficos.tsx:25",value:"todos",children:"Todos"})]})]})]})}const fs=["Matemática","Biologia","Física","Química","História","Geografia","Filosofia","Sociologia","Linguagens","Redação"],g={horas:{nome:"Horas de Estudo",icon:ns,unidade:"horas",descricao:"Estudar X horas em um período",color:"text-blue-500",bgGradient:"from-blue-500/20 to-blue-600/10"},questoes:{nome:"Questões",icon:_a,unidade:"questões",descricao:"Resolver X questões",color:"text-green-500",bgGradient:"from-green-500/20 to-green-600/10"},simulados:{nome:"Simulados",icon:Ba,unidade:"simulados",descricao:"Fazer X simulados completos",color:"text-purple-500",bgGradient:"from-purple-500/20 to-purple-600/10"},topicos:{nome:"Tópicos do Cronograma",icon:K,unidade:"tópicos",descricao:"Concluir X tópicos do cronograma",color:"text-orange-500",bgGradient:"from-orange-500/20 to-orange-600/10"},sequencia:{nome:"Sequência de Dias",icon:ha,unidade:"dias",descricao:"Estudar X dias consecutivos",color:"text-red-500",bgGradient:"from-red-500/20 to-red-600/10"},desempenho:{nome:"Desempenho em Simulados",icon:ls,unidade:"acertos",descricao:"Acertar X questões em simulados",color:"text-yellow-500",bgGradient:"from-yellow-500/20 to-yellow-600/10"}};function st(){const t=as(),[n,i]=x.useState([]),[e,r]=x.useState(!0),[p,w]=x.useState(!1),[f,o]=x.useState(!1),[d,M]=x.useState(null),[l,A]=x.useState("horas"),[D,m]=x.useState(""),[u,P]=x.useState(""),[E,k]=x.useState(""),[q,O]=x.useState(""),[Q,B]=x.useState(""),[Ma,U]=x.useState(""),[W,Z]=x.useState(!1),[J,Ga]=x.useState("30"),[aa,Fa]=x.useState(!0),[sa,Pa]=x.useState(!1),[ta,ka]=x.useState(!1),_=async()=>{try{r(!0),await t.checkExpiredMetas();const s=await t.getMetas();i(s)}catch(s){y.error(s.message||"Erro ao carregar metas")}finally{r(!1)}};x.useEffect(()=>{_();const s=setInterval(()=>{t.getMetas().then(c=>{i(c)}).catch(()=>{})},5e3);return()=>clearInterval(s)},[]);const ea=s=>{s?(o(!0),M(s),A(s.tipo),m(s.nome),P(s.descricao||""),k(s.valorAlvo.toString()),U(s.materia||""),Z(s.repetirDiariamente||!1),O(ya(s.dataInicio)),B(ya(s.dataFim))):(o(!1),M(null),ja(),O(rs()),B(is(new Date,7))),w(!0)},ja=()=>{A("horas"),m(""),P(""),k(""),O(""),B(""),U(""),Z(!1)},$a=async()=>{if(!D||!E||!q||!Q){y.error("Preencha todos os campos obrigatórios");return}try{const s=g[l].unidade,c=`${q}T12:00:00`,N=`${Q}T12:00:00`;f&&d?(await t.updateMeta({metaId:d.id,nome:D,descricao:u,valorAlvo:Number(E),dataInicio:c,dataFim:N,repetirDiariamente:l==="horas"||l==="questoes"||l==="topicos"?W:void 0}),y.success("Meta atualizada com sucesso!")):(await t.createMeta({tipo:l,nome:D,descricao:u,valorAlvo:Number(E),unidade:s,dataInicio:c,dataFim:N,materia:Ma||void 0,repetirDiariamente:l==="horas"||l==="questoes"||l==="topicos"?W:void 0}),y.success("Meta criada com sucesso!")),w(!1),ja(),_()}catch(s){y.error(s.message||"Erro ao salvar meta")}},oa=async s=>{if(confirm("Tem certeza que deseja excluir esta meta?"))try{await t.deleteMeta(s),y.success("Meta excluída"),_()}catch(c){y.error(c.message||"Erro ao excluir meta")}},Ia=async s=>{try{await t.updateMeta({metaId:s,status:"cancelada"}),y.success("Meta cancelada"),_()}catch(c){y.error(c.message||"Erro ao cancelar meta")}},za=s=>{const c=new Date,N=V(s.dataFim),T=Math.ceil((N.getTime()-c.getTime())/(1e3*60*60*24));return s.status==="concluida"?a.jsx(h,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:310",className:"bg-green-500",children:"Concluída"}):s.status==="expirada"?a.jsx(h,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:314",variant:"secondary",children:"Expirada"}):s.status==="cancelada"?a.jsx(h,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:318",variant:"outline",children:"Cancelada"}):T<=1?a.jsx(h,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:322",variant:"destructive",children:"Último dia!"}):T<=3?a.jsx(h,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:326",className:"bg-orange-500",children:"3 dias restantes"}):T<=7?a.jsx(h,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:330",className:"bg-yellow-500",children:"7 dias restantes"}):a.jsx(h,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:333",variant:"outline",children:"Ativa"})},Ra=s=>s>=90?"bg-green-500":s>=75?"bg-blue-500":s>=50?"bg-yellow-500":s>=25?"bg-orange-500":"bg-gray-500",va=new Date;va.setHours(0,0,0,0);const qa=va.toISOString().split("T")[0],$=n.filter(s=>{if(s.metaPaiId){if(s.dataReferencia){const c=V(s.dataReferencia);return c.setHours(0,0,0,0),c.toISOString().split("T")[0]===qa}return!1}return!(s.repetirDiariamente&&!s.metaPaiId)}),L=$.filter(s=>s.status==="ativa"),z=$.filter(s=>s.status==="concluida"),Y=$.filter(s=>s.status==="expirada"||s.status==="cancelada"),Aa=L.length+z.length+Y.length;return Aa>0&&Math.round(z.length/Aa*100),e?a.jsx("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:395",className:"flex items-center justify-center min-h-[400px]",children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:396",className:"relative",children:[a.jsx("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:397",className:"animate-spin rounded-full h-20 w-20 border-t-4 border-b-4 border-primary"}),a.jsx("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:398",className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:a.jsx(R,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:399",className:"h-8 w-8 text-primary animate-pulse"})})]})}):a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:407",className:"container mx-auto p-6 space-y-6",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:409",className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/10 via-primary/5 to-transparent p-8 mb-6 border-2 border-primary/20 animate-slide-up",children:[a.jsx("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:410",className:"absolute top-0 right-0 w-64 h-64 bg-primary/10 rounded-full blur-3xl"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:411",className:"relative flex justify-between items-center",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:412",children:[a.jsxs("h1",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:413",className:"text-4xl font-bold flex items-center gap-3",children:[a.jsx(R,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:414",className:"h-10 w-10 text-primary"}),"Minhas Metas"]}),a.jsx("p",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:417",className:"text-muted-foreground mt-2 text-lg",children:"Defina e acompanhe seus objetivos de estudo"})]}),a.jsxs(b,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:421",onClick:()=>ea(),className:"gap-2 bg-gradient-to-r from-primary via-primary to-blue-600 hover:from-primary/90 hover:via-primary/90 hover:to-blue-600/90 shadow-lg hover:shadow-2xl hover:shadow-primary/30 transition-all duration-300 hover:scale-105 text-white font-semibold",size:"lg",children:[a.jsx(ca,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:426",className:"h-5 w-5"}),"Nova Meta"]})]})]}),a.jsx(ds,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:433",metas:$}),a.jsx("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:436",className:"flex justify-end animate-slide-up",style:{animationDelay:"0.15s"},children:a.jsx(hs,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:437",periodo:J,onPeriodoChange:Ga})}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:441",className:"space-y-6 animate-slide-up",style:{animationDelay:"0.2s"},children:[a.jsx(us,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:443",metas:$,diasPeriodo:J==="todos"?365:Number(J)}),a.jsx(gs,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:449",metas:$})]}),L.length>0&&a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:454",className:"space-y-4 animate-slide-up",style:{animationDelay:"0.2s"},children:[a.jsxs("button",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:455",onClick:()=>Fa(!aa),className:"w-full flex items-center justify-between text-left hover:bg-accent/50 p-4 rounded-lg transition-colors",children:[a.jsxs("h2",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:459",className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(ha,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:460",className:"h-6 w-6 text-orange-500"}),"Metas Ativas",a.jsx(h,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:462",variant:"secondary",className:"ml-2",children:L.length})]}),a.jsx(na,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:464",className:`h-6 w-6 transition-transform duration-300 ${aa?"rotate-180":""}`})]}),aa&&a.jsx("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:467",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:L.map((s,c)=>{const N=g[s.tipo].icon;let T=0;s.valorAtual,s.valorAlvo;let la="";return T=Math.min(100,Math.round(s.valorAtual/s.valorAlvo*100)),s.repetirDiariamente?la=`${s.valorAtual} / ${s.valorAlvo} ${s.unidade} hoje`:la=`${s.valorAtual} / ${s.valorAlvo} ${s.unidade}`,a.jsxs(j,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:488",className:"relative overflow-hidden border-2 hover:border-primary transition-all duration-500 hover:shadow-2xl hover:shadow-primary/20 group animate-slide-up bg-yellow-50/30 dark:bg-yellow-900/10",style:{animationDelay:`${c*.1}s`},children:[a.jsx("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:493",className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),a.jsx("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:494",className:"absolute top-0 right-0 w-40 h-40 bg-primary/10 rounded-full blur-3xl group-hover:scale-150 transition-transform duration-700 pointer-events-none"}),a.jsx(C,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:496",className:"relative z-10",children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:497",className:"flex items-start justify-between",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:498",className:"flex items-start gap-3",children:[a.jsx("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:499",className:`p-2 rounded-lg bg-gradient-to-br ${g[s.tipo].bgGradient}`,children:a.jsx(N,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:500",className:`h-6 w-6 ${g[s.tipo].color}`})}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:502",children:[a.jsx(S,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:503",className:"text-lg",children:s.nome}),a.jsx(I,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:504",className:"mt-1",children:s.descricao||g[s.tipo].descricao})]})]}),za(s)]})}),a.jsxs(v,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:512",className:"space-y-4 relative z-10",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:514",className:"space-y-2",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:515",className:"flex justify-between text-sm",children:[a.jsx("span",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:516",className:"text-muted-foreground font-medium",children:"Progresso"}),a.jsx("span",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:517",className:"font-semibold",children:la})]}),s.repetirDiariamente&&a.jsxs("p",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:522",className:"text-xs text-muted-foreground",children:["Total: ",s.valorAtual," ",s.unidade]}),a.jsx("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:526",className:"relative",children:a.jsx(ts,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:527",value:T,className:`h-3 ${Ra(T)} transition-all duration-1000`})}),a.jsxs("p",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:532",className:"text-xs text-muted-foreground text-right font-semibold",children:[T,"%"]})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:536",className:"flex items-center gap-3 text-sm text-muted-foreground flex-wrap",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:537",className:"flex items-center gap-1.5 px-3 py-1.5 bg-muted/50 rounded-full",children:[a.jsx(Ta,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:538",className:"h-4 w-4"}),a.jsxs("span",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:539",children:["Até ",Ca(s.dataFim)]})]}),s.repetirDiariamente&&a.jsxs(h,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:542",className:"bg-gradient-to-r from-blue-500 to-cyan-500 shadow-lg",children:[a.jsx(ha,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:543",className:"h-3 w-3 mr-1"}),"Meta diária"]}),s.materia&&a.jsx(h,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:548",variant:"outline",className:"border-primary/50",children:s.materia})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:553",className:"flex gap-2 pt-2",children:[a.jsxs(b,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:554",variant:"outline",size:"sm",onClick:()=>ea(s),className:"flex-1 hover:bg-primary/10 hover:border-primary transition-all duration-300",children:[a.jsx(cs,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:560",className:"h-4 w-4 mr-2"}),"Editar"]}),a.jsxs(b,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:563",variant:"outline",size:"sm",onClick:()=>Ia(s.id),className:"flex-1 hover:bg-orange-500/10 hover:border-orange-500 hover:text-orange-600 transition-all duration-300",children:[a.jsx(H,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:569",className:"h-4 w-4 mr-2"}),"Cancelar"]}),a.jsx(b,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:572",variant:"outline",size:"sm",onClick:()=>oa(s.id),className:"hover:bg-destructive/10 hover:border-destructive hover:text-destructive transition-all duration-300",children:a.jsx(ra,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:578",className:"h-4 w-4"})})]})]})]},s.id)})})]}),z.length>0&&a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:592",className:"space-y-4",children:[a.jsxs("button",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:593",onClick:()=>Pa(!sa),className:"w-full flex items-center justify-between text-left hover:bg-accent/50 p-4 rounded-lg transition-colors",children:[a.jsxs("h2",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:597",className:"text-xl font-semibold flex items-center gap-2",children:["✅ Metas Concluídas",a.jsx(h,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:599",variant:"secondary",className:"ml-2",children:z.length})]}),a.jsx(na,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:601",className:`h-5 w-5 transition-transform duration-300 ${sa?"rotate-180":""}`})]}),sa&&a.jsx("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:604",className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:z.map(s=>{const c=g[s.tipo].icon;return a.jsxs(j,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:609",className:"border-green-200 bg-green-50/50",children:[a.jsx(C,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:610",children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:611",className:"flex items-start justify-between",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:612",className:"flex items-start gap-3",children:[a.jsx(c,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:613",className:`h-5 w-5 mt-1 ${g[s.tipo].color}`}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:614",children:[a.jsx(S,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:615",className:"text-lg",children:s.nome}),a.jsxs(I,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:616",className:"mt-1",children:["Concluída em ",s.dataConclusao?Ca(s.dataConclusao):"N/A"]})]})]}),a.jsx(K,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:621",className:"h-5 w-5 text-green-500"})]})}),a.jsxs(v,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:624",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:625",className:"flex justify-between text-sm",children:[a.jsx("span",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:626",className:"text-muted-foreground",children:"Meta alcançada"}),a.jsxs("span",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:627",className:"font-medium",children:[s.valorAtual," / ",s.valorAlvo," ",s.unidade]})]}),a.jsxs(b,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:631",variant:"ghost",size:"sm",onClick:()=>oa(s.id),className:"w-full mt-4",children:[a.jsx(ra,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:637",className:"h-4 w-4 mr-1"}),"Excluir"]})]})]},s.id)})})]}),Y.length>0&&a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:651",className:"space-y-4",children:[a.jsxs("button",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:652",onClick:()=>ka(!ta),className:"w-full flex items-center justify-between text-left hover:bg-accent/50 p-4 rounded-lg transition-colors",children:[a.jsxs("h2",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:656",className:"text-xl font-semibold flex items-center gap-2",children:[a.jsx(H,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:657",className:"h-5 w-5 text-red-500"}),"Metas Não Alcançadas",a.jsx(h,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:659",variant:"secondary",className:"ml-2",children:Y.length})]}),a.jsx(na,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:661",className:`h-5 w-5 transition-transform duration-300 ${ta?"rotate-180":""}`})]}),ta&&a.jsx("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:664",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Y.map((s,c)=>{const N=g[s.tipo].icon;return a.jsxs(j,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:669",className:"relative overflow-hidden border-2 border-red-200 bg-red-50/30 dark:bg-red-900/10 animate-slide-up",style:{animationDelay:`${c*.1}s`},children:[a.jsx(C,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:674",className:"relative z-10",children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:675",className:"flex items-start justify-between",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:676",className:"flex items-start gap-3",children:[a.jsx("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:677",className:`p-2 rounded-lg bg-gradient-to-br ${g[s.tipo].bgGradient} opacity-50`,children:a.jsx(N,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:678",className:`h-6 w-6 ${g[s.tipo].color}`})}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:680",children:[a.jsx(S,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:681",className:"text-lg",children:s.nome}),a.jsx(I,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:682",className:"mt-1",children:s.status==="expirada"?"Prazo expirado":"Cancelada"})]})]}),a.jsx(H,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:687",className:"h-5 w-5 text-red-500"})]})}),a.jsxs(v,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:690",className:"space-y-4 relative z-10",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:691",className:"flex justify-between text-sm",children:[a.jsx("span",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:692",className:"text-muted-foreground",children:"Progresso final"}),a.jsxs("span",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:693",className:"font-medium",children:[s.valorAtual," / ",s.valorAlvo," ",s.unidade]})]}),a.jsxs(b,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:697",variant:"outline",size:"sm",onClick:()=>oa(s.id),className:"w-full hover:bg-destructive/10 hover:border-destructive hover:text-destructive transition-all duration-300",children:[a.jsx(ra,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:703",className:"h-4 w-4 mr-2"}),"Excluir"]})]})]},s.id)})})]}),$.length===0&&a.jsx(j,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:717",className:"text-center py-12",children:a.jsxs(v,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:718",children:[a.jsx(R,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:719",className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:720",className:"text-lg font-semibold mb-2",children:"Nenhuma meta criada"}),a.jsx("p",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:721",className:"text-muted-foreground mb-4",children:"Crie sua primeira meta para organizar seus estudos!"}),a.jsxs(b,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:724",onClick:()=>ea(),className:"gap-2",children:[a.jsx(ca,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:725",className:"h-4 w-4"}),"Criar Primeira Meta"]})]})}),a.jsx(La,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:733",open:p,onOpenChange:w,children:a.jsxs(Ya,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:734",className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:735",className:"relative",children:[a.jsx("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:736",className:"absolute -top-4 -right-4 w-32 h-32 bg-primary/10 rounded-full blur-3xl"}),a.jsxs(Xa,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:737",className:"relative",children:[a.jsxs(Ha,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:738",className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:739",className:"p-2 rounded-lg bg-gradient-to-br from-primary/20 to-primary/10",children:a.jsx(R,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:740",className:"h-6 w-6 text-primary"})}),f?"Editar Meta":"Nova Meta"]}),a.jsx(Ka,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:744",className:"text-base mt-2",children:f?"Atualize as informações da sua meta":"Defina um objetivo de estudo para acompanhar seu progresso"})]})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:752",className:"space-y-4 py-4",children:[!f&&a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:755",className:"space-y-2",children:[a.jsx(G,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:756",htmlFor:"tipo",children:"Tipo de Meta"}),a.jsxs(xa,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:757",value:l,onValueChange:s=>A(s),children:[a.jsx(ma,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:758",children:a.jsx(pa,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:759"})}),a.jsx(ga,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:761",children:Object.entries(g).map(([s,c])=>a.jsx(F,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:763",value:s,children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:764",className:"flex items-center gap-2",children:[a.jsx(c.icon,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:765",className:`h-4 w-4 ${c.color}`}),c.nome]})},s))})]}),a.jsx("p",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:772",className:"text-sm text-muted-foreground",children:g[l].descricao})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:779",className:"space-y-2",children:[a.jsx(G,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:780",htmlFor:"nome",children:"Nome da Meta *"}),a.jsx(X,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:781",id:"nome",value:D,onChange:s=>m(s.target.value),placeholder:"Ex: Estudar 20 horas esta semana"})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:790",className:"space-y-2",children:[a.jsx(G,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:791",htmlFor:"descricao",children:"Descrição (opcional)"}),a.jsx(os,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:792",id:"descricao",value:u,onChange:s=>P(s.target.value),placeholder:"Adicione detalhes sobre sua meta...",rows:3})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:802",className:"space-y-2",children:[a.jsxs(G,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:803",htmlFor:"valorAlvo",children:["Meta (",g[l].unidade,") *"]}),a.jsx(X,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:806",id:"valorAlvo",type:"number",value:E,onChange:s=>k(s.target.value),placeholder:"Ex: 20",min:"1"})]}),(l==="questoes"||l==="desempenho")&&a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:818",className:"space-y-2",children:[a.jsx(G,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:819",htmlFor:"materia",children:"Matéria (opcional)"}),a.jsxs(xa,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:820",value:Ma||void 0,onValueChange:s=>U(s),children:[a.jsx(ma,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:821",children:a.jsx(pa,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:822",placeholder:"Todas as matérias"})}),a.jsx(ga,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:824",children:fs.map(s=>a.jsx(F,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:826",value:s,children:s},s))})]}),a.jsx("p",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:830",className:"text-xs text-muted-foreground",children:"Deixe em branco para considerar todas as matérias"})]}),(l==="horas"||l==="questoes"||l==="topicos")&&a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:838",className:"flex items-center space-x-2 p-4 bg-muted/50 rounded-lg",children:[a.jsx(es,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:839",id:"repetirDiariamente",checked:W,onCheckedChange:s=>Z(s)}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:844",className:"space-y-1",children:[a.jsx(G,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:845",htmlFor:"repetirDiariamente",className:"text-sm font-medium cursor-pointer",children:"Repetir diariamente"}),a.jsxs("p",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:851",className:"text-xs text-muted-foreground",children:[l==="horas"&&"Ex: Estudar 2 horas por dia",l==="questoes"&&"Ex: Resolver 10 questões por dia",l==="topicos"&&"Ex: Concluir 3 tópicos por dia"]})]})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:861",className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:862",className:"space-y-2",children:[a.jsx(G,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:863",htmlFor:"dataInicio",children:"Data Início *"}),a.jsx(X,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:864",id:"dataInicio",type:"date",value:q,onChange:s=>O(s.target.value)})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:871",className:"space-y-2",children:[a.jsx(G,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:872",htmlFor:"dataFim",children:"Data Fim *"}),a.jsx(X,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:873",id:"dataFim",type:"date",value:Q,onChange:s=>B(s.target.value)})]})]})]}),a.jsxs(Va,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:883",className:"gap-2",children:[a.jsxs(b,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:884",variant:"outline",onClick:()=>w(!1),className:"hover:bg-muted transition-all duration-300",children:[a.jsx(H,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:889",className:"h-4 w-4 mr-2"}),"Cancelar"]}),a.jsx(b,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:892",onClick:$a,className:"bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:f?a.jsxs(a.Fragment,{children:[a.jsx(K,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:898",className:"h-4 w-4 mr-2"}),"Salvar Alterações"]}):a.jsxs(a.Fragment,{children:[a.jsx(ca,{"data-loc":"client/src/pages/aluno/AlunoMetas.tsx:903",className:"h-4 w-4 mr-2"}),"Criar Meta"]})})]})]})})]})}export{st as default};
