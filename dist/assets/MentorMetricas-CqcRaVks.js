import{j as t,d as g,C as j,f as D,g as f,h as N,b as M}from"./index-CuAZNJt7.js";import{r,f as w,S as A,C as E,X as y,Y as T,T as S,h as P,i as k,j as I}from"./vendor-recharts-DGENtP1g.js";import{m}from"./api-CRqOoZC_.js";import"./vendor-react-BLxlFB_W.js";import"./vendor-ui-Dwsdq65V.js";import"./vendor-firebase-DcZa5tA2.js";const L=({periodo:n="30d"})=>{const[a,p]=r.useState([]),[x,l]=r.useState(!0),[d,h]=r.useState(null);r.useEffect(()=>{b()},[n]);const b=async()=>{try{l(!0);const e=await m.getAlunos(),s=await m.getAlunosMetricas(),o=e.map(c=>{const i=s.find(C=>C.alunoId===c.userId);return{id:c.userId,nome:c.nome,tempoEstudo:i?.horasEstudo||0,desempenho:i?.desempenho||0}});p(o)}catch{}finally{l(!1)}},u=(e,s)=>e>=75&&s>=20?"#10b981":e>=75&&s<20?"#3b82f6":e<60&&s>=20?"#ef4444":e<60&&s<20?"#f59e0b":"#8b5cf6",v=({active:e,payload:s})=>{if(e&&s&&s.length){const o=s[0].payload;return t.jsxs("div",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:78",className:"bg-white p-4 rounded-lg shadow-lg border border-gray-200",children:[t.jsx("p",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:79",className:"font-semibold text-gray-900",children:o.nome}),t.jsxs("p",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:80",className:"text-sm text-gray-600",children:["Tempo de Estudo: ",t.jsxs("span",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:81",className:"font-medium",children:[o.tempoEstudo.toFixed(1),"h"]})]}),t.jsxs("p",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:83",className:"text-sm text-gray-600",children:["Desempenho: ",t.jsxs("span",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:84",className:"font-medium",children:[o.desempenho.toFixed(1),"%"]})]})]})}return null};return x?t.jsx("div",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:94",className:"flex items-center justify-center h-96",children:t.jsx("div",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:95",className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t.jsxs("div",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:101",className:"bg-white rounded-lg shadow-md p-6",children:[t.jsxs("div",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:102",className:"mb-6",children:[t.jsx("h3",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:103",className:"text-xl font-semibold text-gray-900 mb-2",children:"Dashboard Comparativo de Alunos"}),t.jsxs("p",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:106",className:"text-sm text-gray-600",children:["AnÃ¡lise de desempenho vs tempo de estudo (Ãºltimos ",n==="7d"?"7 dias":n==="30d"?"30 dias":"90 dias",")"]})]}),t.jsx(w,{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:111",width:"100%",height:400,children:t.jsxs(A,{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:112",margin:{top:20,right:20,bottom:20,left:20},children:[t.jsx(E,{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:113",strokeDasharray:"3 3"}),t.jsx(y,{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:114",type:"number",dataKey:"tempoEstudo",name:"Tempo de Estudo",unit:"h",label:{value:"Tempo de Estudo (horas)",position:"insideBottom",offset:-10}}),t.jsx(T,{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:121",type:"number",dataKey:"desempenho",name:"Desempenho",unit:"%",label:{value:"Desempenho (%)",angle:-90,position:"insideLeft"},domain:[0,100]}),t.jsx(S,{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:129",content:t.jsx(v,{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:129"})}),t.jsx(P,{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:130",content:()=>t.jsxs("div",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:132",className:"flex flex-wrap gap-4 justify-center mt-4 text-sm",children:[t.jsxs("div",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:133",className:"flex items-center gap-2",children:[t.jsx("div",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:134",className:"w-3 h-3 rounded-full bg-green-500"}),t.jsx("span",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:135",children:"Excelente"})]}),t.jsxs("div",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:137",className:"flex items-center gap-2",children:[t.jsx("div",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:138",className:"w-3 h-3 rounded-full bg-blue-500"}),t.jsx("span",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:139",children:"Alto potencial"})]}),t.jsxs("div",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:141",className:"flex items-center gap-2",children:[t.jsx("div",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:142",className:"w-3 h-3 rounded-full bg-purple-500"}),t.jsx("span",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:143",children:"MÃ©dio"})]}),t.jsxs("div",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:145",className:"flex items-center gap-2",children:[t.jsx("div",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:146",className:"w-3 h-3 rounded-full bg-red-500"}),t.jsx("span",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:147",children:"Precisa de estratÃ©gia"})]}),t.jsxs("div",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:149",className:"flex items-center gap-2",children:[t.jsx("div",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:150",className:"w-3 h-3 rounded-full bg-orange-500"}),t.jsx("span",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:151",children:"Precisa de motivaÃ§Ã£o"})]})]})}),t.jsx(k,{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:156",name:"Alunos",data:a,fill:"#8884d8",children:a.map((e,s)=>t.jsx(I,{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:158",fill:u(e.desempenho,e.tempoEstudo),stroke:d===e.id?"#000":"none",strokeWidth:d===e.id?2:0,r:8,style:{cursor:"pointer"},onClick:()=>h(e.id)},`cell-${s}`))})]})}),t.jsxs("div",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:172",className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:173",className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[t.jsx("h4",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:174",className:"font-semibold text-green-900 mb-1",children:"ðŸŒŸ Excelentes"}),t.jsxs("p",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:175",className:"text-sm text-green-700",children:[a.filter(e=>e.desempenho>=75&&e.tempoEstudo>=20).length," alunos"]}),t.jsx("p",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:178",className:"text-xs text-green-600 mt-1",children:"Alto desempenho e bom tempo de estudo"})]}),t.jsxs("div",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:181",className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[t.jsx("h4",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:182",className:"font-semibold text-red-900 mb-1",children:"âš ï¸ Precisam de EstratÃ©gia"}),t.jsxs("p",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:183",className:"text-sm text-red-700",children:[a.filter(e=>e.desempenho<60&&e.tempoEstudo>=20).length," alunos"]}),t.jsx("p",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:186",className:"text-xs text-red-600 mt-1",children:"Muito estudo mas baixo desempenho"})]}),t.jsxs("div",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:189",className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[t.jsx("h4",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:190",className:"font-semibold text-blue-900 mb-1",children:"ðŸ’Ž Alto Potencial"}),t.jsxs("p",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:191",className:"text-sm text-blue-700",children:[a.filter(e=>e.desempenho>=75&&e.tempoEstudo<20).length," alunos"]}),t.jsx("p",{"data-loc":"client/src/components/mentor/DashboardComparativo.tsx:194",className:"text-xs text-blue-600 mt-1",children:"Alto desempenho, podem render mais"})]})]})]})};function z(){return t.jsxs("div",{"data-loc":"client/src/pages/mentor/MentorMetricas.tsx:8",className:"space-y-6",children:[t.jsx("div",{"data-loc":"client/src/pages/mentor/MentorMetricas.tsx:9",className:"flex items-center justify-between",children:t.jsxs("div",{"data-loc":"client/src/pages/mentor/MentorMetricas.tsx:10",children:[t.jsxs("h1",{"data-loc":"client/src/pages/mentor/MentorMetricas.tsx:11",className:"text-3xl font-bold flex items-center gap-2",children:[t.jsx(g,{"data-loc":"client/src/pages/mentor/MentorMetricas.tsx:12",className:"h-8 w-8"}),"MÃ©tricas e AnÃ¡lises"]}),t.jsx("p",{"data-loc":"client/src/pages/mentor/MentorMetricas.tsx:15",className:"text-muted-foreground mt-1",children:"Visualize e analise o desempenho dos seus alunos"})]})}),t.jsxs(j,{"data-loc":"client/src/pages/mentor/MentorMetricas.tsx:21",children:[t.jsxs(D,{"data-loc":"client/src/pages/mentor/MentorMetricas.tsx:22",children:[t.jsx(f,{"data-loc":"client/src/pages/mentor/MentorMetricas.tsx:23",children:"Dashboard Comparativo de Alunos"}),t.jsx(N,{"data-loc":"client/src/pages/mentor/MentorMetricas.tsx:24",children:"GrÃ¡fico de dispersÃ£o: Desempenho vs Tempo de Estudo"})]}),t.jsx(M,{"data-loc":"client/src/pages/mentor/MentorMetricas.tsx:28",children:t.jsx(L,{"data-loc":"client/src/pages/mentor/MentorMetricas.tsx:29"})})]})]})}export{z as default};
