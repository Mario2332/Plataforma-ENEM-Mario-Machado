import{c as ue,y as A,a7 as z,j as a,C as ga,b as ma,B as u,D as U,l as _,m as B,n as H,o as V,p as J,ag as xe}from"./index-BvL1lwzO.js";import{r}from"./vendor-recharts-CyIoRYya.js";import{I as Q}from"./input-C-ISKBZN.js";import{L as T}from"./label-DckGQt9Q.js";import{S as pe,a as he,b as fe,c as Ae,d as Ce}from"./select-CJ99RYLz.js";import{S as ve}from"./switch-Ch0Y5wkJ.js";import{t as x}from"./vendor-ui-1HJ-79qP.js";import{w as k,K as Oa,z as Z,F as Pa,e as N,T as ua,h as je,j as xa,J as ye}from"./vendor-firebase-D50p2GR8.js";import{a as Se}from"./MentorViewContext-CODnSKyH.js";import{C as Ne,a as be,L as aa}from"./skeleton-loader-Bmpxvnqg.js";import{a as Ta}from"./CronogramaWrapper-6Pfhxh7D.js";import{L as La}from"./loader-circle-FFw6MVGl.js";import{I as we}from"./info-CF_cIDHL.js";import{S as pa}from"./star-AzqqgqiE.js";import{C as De}from"./chevron-left-dt9Ecka3.js";import{C as ze}from"./chevron-right-D_zLHFMb.js";import{P as $a}from"./plus-C3jvIMqM.js";import{T as Ua}from"./trash-2-CtY-Ds-s.js";import{C as ke}from"./clock-BYOLQXCh.js";import{P as Ie}from"./pen-DxTPU0hU.js";import"./vendor-react-YualkU3Z.js";import"./useComposition-iS-LvcVy.js";import"./index-CjCbKmpj.js";import"./index-ChHGvnL7.js";import"./check-BJxyDSp4.js";import"./calendar-DSEncg2R.js";import"./refresh-cw-E7uFK3Fm.js";import"./zap-Cf_uWcUW.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=ue("Link2Off",[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Me=["Matemática","Biologia","Física","Química","História","Geografia","Filosofia","Sociologia","Linguagens","Redação","Revisão","Simulado","Correção de simulado","Preenchimento de lacunas","Dormir","Atividade física","Igreja","Outra atividade"],ha={Matemática:"#3b82f6",Biologia:"#10b981",Física:"#f59e0b",Química:"#ef4444",História:"#8b5cf6",Geografia:"#ec4899",Filosofia:"#06b6d4",Sociologia:"#f97316",Linguagens:"#84cc16",Redação:"#14b8a6",Revisão:"#a855f7",Simulado:"#f43f5e","Correção de simulado":"#0ea5e9","Preenchimento de lacunas":"#eab308",Dormir:"#6366f1","Atividade física":"#22c55e",Igreja:"#d946ef","Outra atividade":"#94a3b8"},Fe=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],Re=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],_a=(l,h)=>{const R=h.atividade==="Outra atividade"?h.atividadePersonalizada||"outra":h.atividade;return`sync_${l}_${h.diaSemana}_${h.horaInicio.replace(":","")}_${R.replace(/\s+/g,"_")}`};function ds(){const l=Se(),[h,R]=r.useState(new Date().getMonth()),[q,fa]=r.useState(new Date().getFullYear()),[I,Aa]=r.useState([]),[Ba,Ca]=r.useState([]),[Ha,va]=r.useState(!0),[ea,b]=r.useState(!1),[ja,G]=r.useState("idle"),[g,sa]=r.useState({sincronizacaoAtiva:!1,dataFimSincronizacao:"",atividadesManuaisPreSincronizacao:[],atividadesExcluidas:[]}),[Va,O]=r.useState(!1),[Ja,K]=r.useState(!1),[Qa,Y]=r.useState(!1),[na,ya]=r.useState(!0),[E,Sa]=r.useState(null),[Na,qa]=r.useState(""),[Ga,ta]=r.useState(!1),[oa,ba]=r.useState("single"),[ra,wa]=r.useState(""),[Ka,L]=r.useState(!1),[M,Ya]=r.useState(""),[c,w]=r.useState({data:"",horaInicio:"08:00",horaFim:"09:00",atividade:"",atividadePersonalizada:"",cor:"#3b82f6",isManual:!0}),$=r.useRef(null),ia=r.useRef(!1),Da=r.useRef([]),za=r.useRef(null),ca=r.useRef(!1);r.useEffect(()=>{Da.current=I},[I]),r.useEffect(()=>{za.current=l},[l]),r.useEffect(()=>{if(!l)return;const e=k(A,"alunos",l,"agenda"),s=Oa(e,n=>{const t=n.docs.map(o=>({id:o.id,...o.data()}));Aa(t)},n=>{});return()=>{s()}},[l]),r.useEffect(()=>l?((async()=>{va(!0),ia.current=!1;try{await Promise.all([Xa(),Za()])}finally{va(!1)}})(),()=>{$.current&&clearTimeout($.current)}):void 0,[l]);const Wa=async()=>{try{const e=l||z.currentUser?.uid;if(!e)throw new Error("Usuário não autenticado");const s=k(A,"alunos",e,"agenda"),t=(await Z(s)).docs.map(o=>({id:o.id,...o.data()}));Aa(t)}catch{}},Xa=async()=>{try{const e=l||z.currentUser?.uid;if(!e)throw new Error("Usuário não autenticado");const s=k(A,"alunos",e,"cronograma_lista"),t=(await Z(s)).docs.map(o=>({id:o.id,...o.data()}));Ca(t)}catch{}},Za=async()=>{try{const e=l||z.currentUser?.uid;if(!e)throw new Error("Usuário não autenticado");const s=N(A,"alunos",e,"agenda_config","config"),n=await je(s);if(n.exists()){const t=n.data();sa({...t,atividadesExcluidas:t.atividadesExcluidas||[]})}}catch{}},W=async e=>{try{const s=l||z.currentUser?.uid;if(!s)throw new Error("Usuário não autenticado");const n=N(A,"alunos",s,"agenda_config","config");await xa(n,e),sa(e)}catch(s){throw s}},la=async e=>{try{const s=l||z.currentUser?.uid;if(!s)throw new Error("Usuário não autenticado");const n=k(A,"alunos",s,"agenda"),t=await Z(n),o=Pa(A);t.docs.forEach(m=>{o.delete(m.ref)}),e.forEach(m=>{const{id:p,...C}=m,D=N(n);o.set(D,{...C,createdAt:ua.now()})}),await o.commit(),await Wa()}catch(s){throw s}};r.useCallback(()=>{ia.current=!0,G("saving"),$.current&&clearTimeout($.current),$.current=setTimeout(async()=>{if(za.current)try{await la(Da.current),ia.current=!1,G("saved"),setTimeout(()=>{G("idle")},2e3)}catch{G("error"),x.error("Erro ao salvar. Tente novamente.")}},1500)},[]);const ka=r.useCallback(async(e,s)=>{if(!(!s.sincronizacaoAtiva||!s.dataFimSincronizacao)&&!ca.current){ca.current=!0;try{const n=l||z.currentUser?.uid;if(!n)return;const t=k(A,"alunos",n,"agenda"),m=(await Z(t)).docs.map(d=>({id:d.id,...d.data()})),p=m.filter(d=>d.isManual),C=m.filter(d=>!d.isManual),D=new Map,i=new Date(s.dataFimSincronizacao),v=new Date;v.setHours(0,0,0,0);let j=new Date(v);for(;j<=i;){const d=j.getDay(),y=j.toISOString().split("T")[0];e.filter(f=>f.diaSemana===d).forEach(f=>{const F=_a(y,f);s.atividadesExcluidas.includes(F)||D.set(F,{id:F,data:y,horaInicio:f.horaInicio,horaFim:f.horaFim,atividade:f.atividade,atividadePersonalizada:f.atividadePersonalizada,cor:f.cor,isManual:!1})}),j.setDate(j.getDate()+1)}const P=Pa(A);let X=0;const de=new Set(D.keys());C.forEach(d=>{if(!de.has(d.id)){const y=N(t,d.id);P.delete(y),X++}});const ge=new Set(C.map(d=>d.id));D.forEach((d,y)=>{if(ge.has(y)){const S=C.find(f=>f.id===y);if(S&&(S.horaInicio!==d.horaInicio||S.horaFim!==d.horaFim||S.atividade!==d.atividade||S.atividadePersonalizada!==d.atividadePersonalizada||S.cor!==d.cor)){const F=N(t,y),{id:Oe,...me}=d;P.update(F,me),X++}}else{const S=N(t,y),{id:f,...F}=d;P.set(S,{...F,createdAt:ua.now()}),X++}}),X>0&&await P.commit()}catch{}finally{ca.current=!1}}},[l]);r.useEffect(()=>{if(!l||!g.sincronizacaoAtiva)return;const s=k(A,"alunos",l,"cronograma_lista"),n=Oa(s,t=>{const o=t.docs.map(m=>({id:m.id,...m.data()}));Ca(o),ka(o,g)},t=>{});return()=>{n()}},[l,g.sincronizacaoAtiva,g.dataFimSincronizacao,ka]);const ae=(e,s)=>{const n=new Date(s,e,1),o=new Date(s,e+1,0).getDate(),m=n.getDay(),p=[],C=new Date(s,e,0).getDate();for(let i=m-1;i>=0;i--){const v=C-i,j=e===0?11:e-1,P=e===0?s-1:s;p.push({data:`${P}-${String(j+1).padStart(2,"0")}-${String(v).padStart(2,"0")}`,dia:v,isCurrentMonth:!1})}for(let i=1;i<=o;i++)p.push({data:`${s}-${String(e+1).padStart(2,"0")}-${String(i).padStart(2,"0")}`,dia:i,isCurrentMonth:!0});const D=42-p.length;for(let i=1;i<=D;i++){const v=e===11?0:e+1,j=e===11?s+1:s;p.push({data:`${j}-${String(v+1).padStart(2,"0")}-${String(i).padStart(2,"0")}`,dia:i,isCurrentMonth:!1})}return p},ee=()=>{h===0?(R(11),fa(q-1)):R(h-1)},se=()=>{h===11?(R(0),fa(q+1)):R(h+1)},da=e=>I.filter(s=>s.data===e).sort((s,n)=>s.horaInicio.localeCompare(n.horaInicio)),Ia=e=>{qa(e),Sa(null),w({data:e,horaInicio:"08:00",horaFim:"09:00",atividade:"",atividadePersonalizada:"",cor:"#3b82f6",isManual:!0}),O(!0)},Ea=async e=>{if(Sa(e),w({...e,atividadePersonalizada:e.atividadePersonalizada||""}),O(!0),!e.isManual&&e.id){const s={...g,atividadesExcluidas:[...g.atividadesExcluidas,e.id]};await W(s),x.info("Esta atividade será desconectada da sincronização ao ser editada. Ela se tornará uma atividade manual.",{duration:4e3})}},ne=()=>{E&&(ta(!1),oa==="single"?(w({...E,atividadePersonalizada:E.atividadePersonalizada||"",isManual:!0}),O(!0)):x.info("Para editar todas as ocorrências, vá para a aba 'Semanal > Lista' e edite a atividade lá."))},te=async()=>{if(!c.atividade){x.error("Selecione uma atividade");return}if(c.atividade==="Outra atividade"&&!c.atividadePersonalizada?.trim()){x.error("Informe o nome da atividade personalizada");return}if(c.horaInicio>=c.horaFim){x.error("O horário de início deve ser anterior ao horário de fim");return}const e=c.atividade==="Outra atividade"?c.cor:ha[c.atividade]||c.cor,s={...c,cor:e,isManual:!0};O(!1),b(!0);try{const n=l||z.currentUser?.uid;if(!n)throw new Error("Usuário não autenticado");const t=k(A,"alunos",n,"agenda");if(E){const o=N(t,E.id),{id:m,...p}=s;await xa(o,p,{merge:!0}),x.success("Atividade atualizada!")}else{const o=N(t),{id:m,...p}=s;await xa(o,{...p,createdAt:ua.now()}),x.success("Atividade adicionada!")}}catch{x.error("Erro ao salvar atividade. Tente novamente.")}finally{b(!1)}},Ma=async e=>{const s=I.find(n=>n.id===e);b(!0);try{const n=l||z.currentUser?.uid;if(!n)throw new Error("Usuário não autenticado");if(s&&!s.isManual){const m={...g,atividadesExcluidas:[...g.atividadesExcluidas,e]};await W(m)}const t=k(A,"alunos",n,"agenda"),o=N(t,e);await ye(o),x.success("Atividade removida!")}catch{x.error("Erro ao remover atividade. Tente novamente.")}finally{b(!1)}},oe=()=>{g.sincronizacaoAtiva?ce():(wa(""),K(!0))},re=()=>{if(!ra){x.error("Defina a data de término da sincronização");return}sa(e=>({...e,dataFimSincronizacao:ra})),K(!1),Y(!0)},ie=async()=>{try{b(!0);const e=I.filter(p=>p.isManual),s=[];na&&s.push(...e);const n=new Date(g.dataFimSincronizacao),t=new Date;t.setHours(0,0,0,0);let o=new Date(t);for(;o<=n;){const p=o.getDay(),C=o.toISOString().split("T")[0];Ba.filter(i=>i.diaSemana===p).forEach(i=>{const v=_a(C,i);s.push({id:v,data:C,horaInicio:i.horaInicio,horaFim:i.horaFim,atividade:i.atividade,atividadePersonalizada:i.atividadePersonalizada,cor:i.cor,isManual:!1})}),o.setDate(o.getDate()+1)}const m={sincronizacaoAtiva:!0,dataFimSincronizacao:g.dataFimSincronizacao,atividadesManuaisPreSincronizacao:e};await W(m),await la(s),Y(!1),x.success("Sincronização ativada com sucesso!")}catch{x.error("Erro ao ativar sincronização")}finally{b(!1)}},ce=async()=>{try{b(!0);const e=I.filter(n=>n.isManual);await W({sincronizacaoAtiva:!1,dataFimSincronizacao:"",atividadesManuaisPreSincronizacao:[]}),await la(e),x.success("Sincronização desativada! Atividades manuais mantidas.")}catch{x.error("Erro ao desativar sincronização")}finally{b(!1)}},Fa=e=>e.atividade==="Outra atividade"&&e.atividadePersonalizada?e.atividadePersonalizada:e.atividade,Ra=e=>{const s=new Date().toISOString().split("T")[0];return e===s};if(Ha)return a.jsx(Ne,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:843"});const le=ae(h,q);return a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:849",className:"space-y-6",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:851",className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:852",className:"flex items-center gap-3",children:[a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:853",className:"p-3 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-500 shadow-lg",children:a.jsx(Ta,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:854",className:"h-6 w-6 text-white"})}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:856",children:[a.jsx("h2",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:857",className:"text-xl font-bold",children:"Agenda Mensal"}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:858",className:"text-sm text-muted-foreground",children:"Visualize e organize suas atividades do mês"})]})]}),a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:862",className:"flex items-center gap-3",children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:864",className:"flex items-center gap-2 text-sm",children:[ja==="saving"&&a.jsxs(a.Fragment,{children:[a.jsx(La,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:867",className:"h-4 w-4 animate-spin text-blue-500"}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:868",className:"text-blue-500",children:"Salvando..."})]}),ja==="saved"&&a.jsxs(a.Fragment,{children:[a.jsx(be,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:873",className:"h-4 w-4 text-green-500"}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:874",className:"text-green-500",children:"Salvo!"})]})]})})]}),a.jsx(ga,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:882",className:`border-2 ${g.sincronizacaoAtiva?"border-emerald-400 bg-emerald-50 dark:bg-emerald-950/20":"border-gray-200"}`,children:a.jsx(ma,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:883",className:"py-4 px-5",children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:884",className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:885",className:"flex items-center gap-3",children:[g.sincronizacaoAtiva?a.jsx(aa,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:887",className:"h-5 w-5 text-emerald-600"}):a.jsx(Ee,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:889",className:"h-5 w-5 text-gray-400"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:891",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:892",className:"font-medium",children:"Sincronização com Cronograma Semanal de Lista"}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:895",className:"text-sm text-muted-foreground",children:g.sincronizacaoAtiva?`Ativo até ${new Date(g.dataFimSincronizacao+"T00:00:00").toLocaleDateString("pt-BR")}`:"Desativado - As atividades do cronograma semanal não serão replicadas automaticamente"})]})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:904",className:"flex items-center gap-3",children:[a.jsx(ve,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:905",checked:g.sincronizacaoAtiva,onCheckedChange:oe,disabled:ea}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:910",className:"text-sm font-medium",children:g.sincronizacaoAtiva?"Ativado":"Desativado"})]})]})})}),a.jsx(ga,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:919",className:"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-950/30 dark:to-cyan-950/30 border-blue-200 dark:border-blue-800",children:a.jsx(ma,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:920",className:"py-3 px-4",children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:921",className:"flex flex-wrap items-center gap-4",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:922",className:"flex items-center gap-2",children:[a.jsx(we,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:923",className:"h-5 w-5 text-blue-500 flex-shrink-0"}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:924",className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"Legenda:"})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:926",className:"flex items-center gap-2",children:[a.jsx(pa,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:927",className:"h-4 w-4 text-amber-500"}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:928",className:"text-sm text-blue-700 dark:text-blue-300",children:"Atividade manual"})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:930",className:"flex items-center gap-2",children:[a.jsx(aa,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:931",className:"h-4 w-4 text-emerald-500"}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:932",className:"text-sm text-blue-700 dark:text-blue-300",children:"Atividade sincronizada"})]})]})})}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:939",className:"flex items-center justify-between",children:[a.jsx(u,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:940",variant:"outline",size:"icon",onClick:ee,children:a.jsx(De,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:941",className:"h-5 w-5"})}),a.jsxs("h3",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:943",className:"text-xl font-bold",children:[Fe[h]," ",q]}),a.jsx(u,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:946",variant:"outline",size:"icon",onClick:se,children:a.jsx(ze,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:947",className:"h-5 w-5"})})]}),a.jsx(ga,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:952",className:"overflow-hidden",children:a.jsxs(ma,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:953",className:"p-0",children:[a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:955",className:"grid grid-cols-7 border-b bg-gray-50 dark:bg-gray-800",children:Re.map(e=>a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:957",className:"p-2 text-center text-sm font-semibold text-gray-600 dark:text-gray-300",children:e},e))}),a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:964",className:"grid grid-cols-7",children:le.map((e,s)=>{const n=da(e.data);return n.length>0,a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:970",className:`
                    min-h-[100px] sm:min-h-[120px] p-1 sm:p-2 border-b border-r
                    ${e.isCurrentMonth?"":"bg-gray-50 dark:bg-gray-900/50"}
                    ${Ra(e.data)?"bg-blue-50 dark:bg-blue-950/30":""}
                  `,children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:978",className:"flex items-center justify-between mb-1",children:[a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:979",className:`
                      text-sm font-medium
                      ${e.isCurrentMonth?"":"text-gray-400"}
                      ${Ra(e.data)?"bg-blue-500 text-white px-2 py-0.5 rounded-full":""}
                    `,children:e.dia}),e.isCurrentMonth&&a.jsx(u,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:987",variant:"ghost",size:"icon",className:"h-6 w-6 opacity-50 hover:opacity-100",onClick:()=>Ia(e.data),children:a.jsx($a,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:993",className:"h-3 w-3"})})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:999",className:"space-y-1 max-h-[80px] overflow-y-auto",children:[n.slice(0,3).map(t=>a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1001",className:"group relative flex items-center gap-1 px-1.5 py-0.5 rounded text-xs cursor-pointer hover:opacity-80",style:{backgroundColor:`${t.cor}20`,borderLeft:`3px solid ${t.cor}`},onClick:()=>Ea(t),children:[t.isManual?a.jsx(pa,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1008",className:"h-2.5 w-2.5 text-amber-500 flex-shrink-0"}):a.jsx(aa,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1010",className:"h-2.5 w-2.5 text-emerald-500 flex-shrink-0"}),a.jsx("span",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1012",className:"truncate",style:{color:t.cor},children:Fa(t)}),a.jsx(u,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1015",variant:"ghost",size:"icon",className:"h-4 w-4 opacity-0 group-hover:opacity-100 absolute right-0 top-0",onClick:o=>{o.stopPropagation(),Ma(t.id)},children:a.jsx(Ua,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1024",className:"h-2.5 w-2.5 text-red-500"})})]},t.id)),n.length>3&&a.jsxs("button",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1029",className:"text-xs text-blue-600 hover:text-blue-800 hover:underline px-1 cursor-pointer font-medium",onClick:t=>{t.stopPropagation(),Ya(e.data),L(!0)},children:["+",n.length-3," mais"]})]})]},s)})})]})}),a.jsx(U,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1049",open:Va,onOpenChange:O,children:a.jsxs(_,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1050",className:"sm:max-w-[425px]",children:[a.jsxs(B,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1051",children:[a.jsx(H,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1052",children:E?"Editar Atividade":"Nova Atividade"}),a.jsx(V,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1055",children:Na&&`Data: ${new Date(Na+"T00:00:00").toLocaleDateString("pt-BR")}`})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1060",className:"space-y-4 py-4",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1062",className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1063",className:"space-y-2",children:[a.jsx(T,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1064",children:"Horário Início"}),a.jsx(Q,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1065",type:"time",value:c.horaInicio,onChange:e=>w({...c,horaInicio:e.target.value})})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1071",className:"space-y-2",children:[a.jsx(T,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1072",children:"Horário Fim"}),a.jsx(Q,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1073",type:"time",value:c.horaFim,onChange:e=>w({...c,horaFim:e.target.value})})]})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1082",className:"space-y-2",children:[a.jsx(T,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1083",children:"Atividade"}),a.jsxs(pe,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1084",value:c.atividade,onValueChange:e=>w({...c,atividade:e,cor:ha[e]||c.cor}),children:[a.jsx(he,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1092",children:a.jsx(fe,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1093",placeholder:"Selecione a atividade"})}),a.jsx(Ae,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1095",children:Me.map(e=>a.jsx(Ce,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1097",value:e,children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1098",className:"flex items-center gap-2",children:[a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1099",className:"w-3 h-3 rounded-full",style:{backgroundColor:ha[e]||"#94a3b8"}}),e]})},e))})]})]}),c.atividade==="Outra atividade"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1114",className:"space-y-2",children:[a.jsx(T,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1115",children:"Nome da Atividade"}),a.jsx(Q,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1116",value:c.atividadePersonalizada,onChange:e=>w({...c,atividadePersonalizada:e.target.value}),placeholder:"Ex: Curso de inglês"})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1122",className:"space-y-2",children:[a.jsx(T,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1123",children:"Cor"}),a.jsx(Q,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1124",type:"color",value:c.cor,onChange:e=>w({...c,cor:e.target.value}),className:"h-10 w-full"})]})]})]}),a.jsxs(J,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1135",children:[a.jsx(u,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1136",variant:"outline",onClick:()=>O(!1),children:"Cancelar"}),a.jsx(u,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1139",onClick:te,className:"bg-gradient-to-r from-emerald-500 to-teal-500",children:E?"Salvar":"Adicionar"})]})]})}),a.jsx(U,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1147",open:Ja,onOpenChange:K,children:a.jsxs(_,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1148",className:"sm:max-w-[425px]",children:[a.jsxs(B,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1149",children:[a.jsx(H,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1150",children:"Configurar Sincronização"}),a.jsx(V,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1151",children:"As atividades do seu Cronograma Semanal de Lista serão replicadas automaticamente na agenda até a data definida."})]}),a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1156",className:"space-y-4 py-4",children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1157",className:"space-y-2",children:[a.jsx(T,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1158",children:"Data de Término da Sincronização"}),a.jsx(Q,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1159",type:"date",value:ra,onChange:e=>wa(e.target.value),min:new Date().toISOString().split("T")[0]}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1165",className:"text-xs text-muted-foreground",children:"As atividades serão sincronizadas de hoje até esta data."})]})}),a.jsxs(J,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1171",children:[a.jsx(u,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1172",variant:"outline",onClick:()=>K(!1),children:"Cancelar"}),a.jsx(u,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1175",type:"button",onClick:re,className:"bg-gradient-to-r from-emerald-500 to-teal-500",children:"Continuar"})]})]})}),a.jsx(U,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1187",open:Qa,onOpenChange:Y,children:a.jsxs(_,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1188",className:"sm:max-w-[425px]",children:[a.jsxs(B,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1189",children:[a.jsxs(H,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1190",className:"flex items-center gap-2",children:[a.jsx(xe,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1191",className:"h-5 w-5 text-amber-500"}),"Confirmar Sincronização"]}),a.jsxs(V,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1194",children:["Você possui ",I.filter(e=>e.isManual).length," atividade(s) adicionada(s) manualmente na agenda."]})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1199",className:"space-y-4 py-4",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1200",className:"text-sm",children:"O que deseja fazer com as atividades manuais existentes?"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1204",className:"space-y-3",children:[a.jsxs("label",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1205",className:"flex items-start gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800",children:[a.jsx("input",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1206",type:"radio",name:"manterAtividades",checked:na,onChange:()=>ya(!0),className:"mt-1"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1213",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1214",className:"font-medium",children:"Manter atividades manuais"}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1215",className:"text-sm text-muted-foreground",children:"As atividades que você adicionou manualmente serão mantidas junto com as sincronizadas."})]})]}),a.jsxs("label",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1221",className:"flex items-start gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800",children:[a.jsx("input",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1222",type:"radio",name:"manterAtividades",checked:!na,onChange:()=>ya(!1),className:"mt-1"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1229",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1230",className:"font-medium",children:"Excluir atividades manuais"}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1231",className:"text-sm text-muted-foreground",children:"Apenas as atividades sincronizadas do cronograma semanal serão mantidas."})]})]})]})]}),a.jsxs(J,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1239",children:[a.jsx(u,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1240",variant:"outline",onClick:()=>Y(!1),children:"Cancelar"}),a.jsx(u,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1243",onClick:ie,className:"bg-gradient-to-r from-emerald-500 to-teal-500",disabled:ea,children:ea?a.jsxs(a.Fragment,{children:[a.jsx(La,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1250",className:"h-4 w-4 mr-2 animate-spin"}),"Sincronizando..."]}):"Ativar Sincronização"})]})]})}),a.jsx(U,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1262",open:Ga,onOpenChange:ta,children:a.jsxs(_,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1263",className:"sm:max-w-[425px]",children:[a.jsxs(B,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1264",children:[a.jsx(H,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1265",children:"Editar Atividade Sincronizada"}),a.jsx(V,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1266",children:"Esta atividade foi sincronizada do cronograma semanal. Como deseja editá-la?"})]}),a.jsx("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1271",className:"space-y-4 py-4",children:a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1272",className:"space-y-3",children:[a.jsxs("label",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1273",className:"flex items-start gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800",children:[a.jsx("input",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1274",type:"radio",name:"editType",checked:oa==="single",onChange:()=>ba("single"),className:"mt-1"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1281",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1282",className:"font-medium",children:"Apenas este dia"}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1283",className:"text-sm text-muted-foreground",children:"A atividade será convertida para manual e editada apenas neste dia."})]})]}),a.jsxs("label",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1289",className:"flex items-start gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800",children:[a.jsx("input",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1290",type:"radio",name:"editType",checked:oa==="all",onChange:()=>ba("all"),className:"mt-1"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1297",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1298",className:"font-medium",children:"Todos os dias desta atividade"}),a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1299",className:"text-sm text-muted-foreground",children:"Você será direcionado para editar no cronograma semanal."})]})]})]})}),a.jsxs(J,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1307",children:[a.jsx(u,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1308",variant:"outline",onClick:()=>ta(!1),children:"Cancelar"}),a.jsx(u,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1311",onClick:ne,className:"bg-gradient-to-r from-emerald-500 to-teal-500",children:"Continuar"})]})]})}),a.jsx(U,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1319",open:Ka,onOpenChange:L,children:a.jsxs(_,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1320",className:"sm:max-w-[500px] max-h-[80vh] overflow-y-auto",children:[a.jsxs(B,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1321",children:[a.jsxs(H,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1322",className:"flex items-center gap-2",children:[a.jsx(Ta,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1323",className:"h-5 w-5 text-blue-500"}),"Atividades do Dia"]}),a.jsx(V,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1326",children:M&&new Date(M+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1336",className:"space-y-3 py-4",children:[M&&da(M).map(e=>a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1338",className:"flex items-center justify-between p-3 rounded-lg border hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",style:{borderLeft:`4px solid ${e.cor}`},children:[a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1343",className:"flex items-center gap-3",children:[e.isManual?a.jsx(pa,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1345",className:"h-4 w-4 text-amber-500 flex-shrink-0"}):a.jsx(aa,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1347",className:"h-4 w-4 text-emerald-500 flex-shrink-0"}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1349",children:[a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1350",className:"font-medium",style:{color:e.cor},children:Fa(e)}),a.jsxs("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1353",className:"text-sm text-muted-foreground flex items-center gap-1",children:[a.jsx(ke,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1354",className:"h-3 w-3"}),e.horaInicio," - ",e.horaFim]})]})]}),a.jsxs("div",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1359",className:"flex items-center gap-2",children:[a.jsx(u,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1360",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{L(!1),Ea(e)},children:a.jsx(Ie,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1369",className:"h-4 w-4 text-blue-500"})}),a.jsx(u,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1371",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{Ma(e.id)},children:a.jsx(Ua,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1379",className:"h-4 w-4 text-red-500"})})]})]},e.id)),M&&da(M).length===0&&a.jsx("p",{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1386",className:"text-center text-muted-foreground py-4",children:"Nenhuma atividade neste dia."})]}),a.jsxs(J,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1392",children:[a.jsxs(u,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1393",variant:"outline",onClick:()=>{L(!1),Ia(M)},className:"mr-auto",children:[a.jsx($a,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1401",className:"h-4 w-4 mr-2"}),"Adicionar Atividade"]}),a.jsx(u,{"data-loc":"client/src/pages/aluno/CronogramaAgenda.tsx:1404",onClick:()=>L(!1),children:"Fechar"})]})]})})]})}export{ds as default};
